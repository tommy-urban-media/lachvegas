{"version":3,"sources":["src/js/app.js","src/js/app/log.js","src/js/app/model.js","src/js/app/utils.js","src/js/app/view.js","src/js/components/calendar.js","src/js/components/index.js","src/js/components/menu.js","src/js/components/modal.js","src/js/components/quiz.js","src/js/components/ticker.js","src/js/helpers/clickHelper.js","src/js/helpers/datetime.js","src/js/helpers/geometry.js","src/js/helpers/particle.js","src/js/helpers/text.js","src/js/helpers/textures.js","src/js/templates/dialog.js","src/js/templates/dialog/level_completed.js","src/js/templates/dialog/level_start.js","src/js/views/button.js","src/js/views/dialog.js","src/js/views/interface.js","src/js/views/label.js","src/js/views/template.js","src/js/views/tooltip.js"],"names":["App","_components","Components","getNodes","setupTheme","setupModalTriggers","each","i","node","component","data","undefined","app","e","console","warn","on","toggleClass","setTimeout","el","addClass","find","off","preventDefault","removeClass","id","$modal","currentTarget","window","init","__useDefault","Log","message","print","type","log","Model","options","utils","Utils","loadAsync","url","method","callback","scope","$","ajax","dataType","success","response","call","param","RegExp","encodeURIComponent","exec","location","search","decodeURIComponent","parent","self","path","cacheBust","appConfig","root","Math","random","canvas","document","createElement","WebGLRenderingContext","getContext","txt","isDevelopmentMode","params","View","name","$view","$el","html","$element","Calendar","Ticker","Menu","Modal","Quiz","slideToggle","overlay","querySelector","$currentButtonTarget","user","answers","answerTexts","right","wrong","value","deactivateQuestion","closest","save","quiz_id","question_id","question_result","answer_id","answer_value","obj","Object","assign","action","status","resultEl","show","answer_correct","push","css","checkSummary","selector","attr","length","questions","getSummaryText","correct_answers","filter","answer","ClickHelper","mouse","THREE","Vector2","points","mesh","helperPlane","plane","connectPoints","renderHelperPlane","initClickEvents","addEventListener","onDocumentMouseDown","groundFloor","PlaneGeometry","Mesh","MeshLambertMaterial","color","rotation","x","PI","scene","add","event","vector","Vector3","clientX","innerWidth","clientY","innerHeight","unproject","camera","dir","sub","position","normalize","distance","z","pos","clone","multiplyScalar","remove","shape","Shape","autoClose","createPointsGeometry","spacedPoints","createSpacedPointsGeometry","Line","LineBasicMaterial","linewidth","scale","set","p","JSON","stringify","updateMousePosition","get3dPointZAxis","y","renderPoints","intersects","raycaster","intersectObject","object","width","height","Datetime","time","min","floor","sec","toFixed","Geometry","radius","Color","circleGeometry","verticesArray","vertices","segments","angle","cos","sin","circleMaterial","LineDashedMaterial","transparent","opacity","dashSize","AU","gapSize","computeLineDistances","circleLine","LinePieces","Particle","size","properties","Text","text","font","isCenter","material","MeshPhongMaterial","shininess","loader","FontLoader","load","geometry","TextGeometry","curveSegments","weight","bevelThickness","bevelSize","bevelEnabled","center","castShadow","group","computeBoundingBox","textWidth","boundingBox","max","Textures","context","createCanvas","beginPath","arc","stroke","glowColor","abs","elapsedTime","clearCanvas","drawRadialGradient","drawCircle","clearColor","fillStyle","fillRect","lineWidth","shadowRadius","shadowColor","shadowBlur","strokeStyle","gradient","createRadialGradient","addColorStop","showShininess","moveTo","lineTo","texture","Texture","needsUpdate","template","title","content","moves","pushes","Button","isActive","$template","append","initEvents","$btn","level","Dialog","classes","TemplateLevelStart","TemplateLevelCompleted","className","prepareTemplate","render","nestedTemplate","DialogTemplate","resizeToContent","item","close","contentWidth","outerWidth","contentHeight","outerHeight","left","top","Interface","datetime","character","move","THREEx","FullScreen","available","activated","cancel","request","world","difficulty","setTime","getMinutesWithSeconds","Label","planetsystem","planetsystemName","toLowerCase","replace","planetName","orbitColors","systems","toString","toScreenPosition","Template","templates","pl_hostname","dist","PC","mass","pl_num","habitable","Tooltip","hide"],"mappings":"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","file":"public/js/app.js","sourcesContent":["import $ from 'jquery';\n\n// Import all available Components\nimport Components from './components'; \n\n\nexport default class App {\n\n\n  constructor () {\n\n    this._components = Components; \n\n  }\n\n\n  init () {\n\n    this.getNodes();\n    this.setupTheme();\n    this.setupModalTriggers();\n\n  }\n\n\n  getNodes() {\n\n    $('[data-component]').each((i, node) => {\n\n      let component = $(node).data('component');\n\n      if (this._components[component] !== undefined) {\n\n        try {\n          \n          new (this._components[component])({ app: this, node: node });\n\n        } catch (e) {\n\n          console.warn('component ' + component + ' could not be called', e);\n\n        }\n\n      } else {\n\n        console.warn('component \"' + component + '\" does not have implementation ');\n\n      }\n\n    });\n\n  }\n\n\n  setupTheme () {\n\n    $('.search-label').on('click', () => {\n      $('.search-area').toggleClass('is-expanded');\n    });\n\n  }\n\n  setupModalTriggers () {\n\n\n    setTimeout(() => {\n\n      let el = $('#modal-1');\n      el.addClass('modal-show');\n\n      el.find('[data-modal-close]').off('click').on('click', (e) => {\n        e.preventDefault();\n        el.removeClass('modal-show');\n      });\n\n      $('.modal-overlay').on('click', () => {\n        e.preventDefault();\n        el.removeClass('modal-show');\n      });\n\n    }, 2000);\n\n\n    $('[data-modal]').each((i, el) => {\n      \n      let id = $(el).data('modal');\n      let $modal = $('#' + id);\n\n      $(el).on('click', (e) => {\n\n        $modal = $('#' + $(e.currentTarget).data('modal'));\n        $modal.addClass('modal-show');\n\n        $modal.find('[data-modal-close]').off('click').on('click', (e) => {\n          e.preventDefault();\n          $modal.removeClass('modal-show');\n        });\n\n        $('.modal-overlay').on('click', () => {\n          e.preventDefault();\n          $modal.removeClass('modal-show');\n        });\n\n      });\n\n    });\n\n  }\n\n};\n\nwindow.App = new App();\nwindow.App.init();\n","export var __useDefault = true;\n\nexport default class Log {\n\n  init () {}\n\n  info (message) {\n  \tthis.print(message, 'info');\n  }\n\n  error (message) {\n\t\tthis.print(message, 'error');\n  }\n\n  print (message, type = 'info') {\n  \tif (typeof(console) === 'object' && window.console.log) {\n  \t\tconsole.log(message);\n  \t}\n  }\n}","\n\nimport Log from './log';\nimport Utils from './utils';\n\nexport default class Model {\n\n\n\tconstructor ( options = {} ) {\n\n    this.app = options.app;\n\n    this.log = new Log();\n    this.utils = new Utils();\n\n\t}\n\n\n  save() {\n\n    console.log('saving data', this.data);\n\t\tthis.loadAsync(this.url, this.data);\n\n  }\n\n\n\n\tloadAsync(url, data = {}, method = 'post', callback = {}, scope = this) {\n\n    $.ajax({\n\n      url: url,\n      data: data,\n      dataType: 'json',\n      type: method,\n      success: response => {\n\n        if (response) {\n\n\t\t\t\t\tconsole.log(response);\n\n          if (typeof(callback) == 'function') {\n\n              callback.call(scope, response);\n\n          }\n\n        }\n\n\t\t\t}\n    });\n\n  }\n\n}\n","//import THREE from 'three.js';\n\nexport var __useDefault = true;\n\n\n/**\n * Utility class to be used for global functions\n */\n\nexport default class Utils {\n\n\tconstructor() {}\n\n\n\tgetParam (param){\n\n   \tif (param = (new RegExp('[?&]'+encodeURIComponent(param)+'=([^&]*)')).exec(location.search))\n      return decodeURIComponent(param[1]);\n\n\t}\n\n\tisIframe () {\n\n\t\treturn !(parent.location == self.location);\n\n\t}\n\n\n\turl ( path, cacheBust = false ) {\n\n\t\tif (appConfig.root) {\n\n\t\t\tlet url = appConfig.root + path;\n\n\t\t\tif (cacheBust)\n\t\t\t\treturn url + '?time=' + Math.random();\n\n\t\t\telse\n\t\t\t\treturn url;\n\n\t\t}\n\n\t}\n\n\n\t// derived from: https://github.com/mrdoob/three.js/blob/master/examples/js/Detector.js\n  isWebGLSupported() {\n\n    try {\n\n      let canvas = document.createElement(\"canvas\");\n      return !! window.WebGLRenderingContext && (canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\"));\n\n    } catch(e) { return false; }\n\n  }\n\n\n  debug(txt) {\n\n  \tif (window.isDevelopmentMode)\n  \t\tconsole.log(txt);\n\n  }\n\n\n\tloadAsynch (url, params, callback = {}) {\n\n\t\t$.ajax({\n\t\t\turl: url,\n\t\t\tdataType: 'json',\n\t\t\tdata: params,\n\t\t\tmethod: 'post',\n\t\t\tsuccess: function(data) {\n\t\t\t\tconsole.log(data);\n\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t}\n\n\n}\n","export var __useDefault = true;\n\nimport Utils from './utils';\n\nimport Template from '../views/template';\n\n/**\n * View base class\n * Used for all DOM - related objects\n *\n */\n\nexport default class View {\n\n\tconstructor ( options = {} ) {\n\n\t\tthis.options = options;\n\t\tthis.app = options.app;\n\n\t\tthis.utils = new Utils();\n\n\t\tthis.name = '';\n\t\tthis.$view = ``;\n\n\t}\n\n\tsetData() {\n\n\t}\n\n\trender() {\n\n\t\tthis.$el = this.$view;\n\t\treturn this.$el;\n\n\t}\n\n\tgetHtml() {\n\n\t\treturn this.$el.html();\n\n\t}\n\n\tappendTo( $element ) {\n\n\n\n\t}\n\n}\n","export default class Calendar {\n\n  constructor ( options = {} ) {\n\n    console.log(options);\n\n  }\n\n}\n","import Calendar from './calendar';\nimport Menu from './menu';\nimport Modal from './modal';\nimport Ticker from './ticker';\nimport Quiz from './quiz';\n\nexport default { \n\n  Calendar,\n  Ticker,\n  Menu,\n  Modal,\n  Quiz\n  \n}","import $ from 'jquery';\n\nexport default class Menu {\n\n  constructor ( options = {} ) {\n    this.node = $(options.node);\n    this.init();\n  }\n\n  init() {\n\n    this.node.find('.menu-icon').on('click', (e) => {\n      e.preventDefault();\n      this.node.find('.menu').slideToggle('fast');\n    });\n\n  }\n\n}\n","import $ from 'jquery';\n\nexport default class Modal {\n\n  constructor ( options = {} ) {\n    this.node = $(options.node);\n    this.init();\n  }\n\n  init() {\n\n    this.overlay = document.querySelector('.modal-overlay');\n\n    this.node.find('.modal__close').on('click', () => {\n      this.node.removeClass('modal-show');\n    });\n\n    this.node.on('click', () => {\n      \n    });\n\n  }\n\n}\n","import $ from 'jquery';\n\nexport default class Quiz {\n\n  constructor ( options = {} ) {\n    this.node = $(options.node);\n    this.data = this.node.data('param');\n    this.url = this.node.data('url');\n    this.$currentButtonTarget = null;\n\n    this.user = {\n      answers: []\n    };\n\n    this.answerTexts = {\n      right: [\"Richtig! \", \"Genau! \", \"Richtige Antwort. \"],\n      wrong: [\"Falsch! \"]\n    }\n\n    this.init();\n  }\n\n  init() {\n\n    this.node.find('[data-button]').on('click', (e) => {\n      e.preventDefault();\n      \n      let $el = $(e.currentTarget);\n      let value = $el.data('value');\n\n      this.$currentButtonTarget = $el;\n      this.deactivateQuestion($el.closest('[data-question-id]'));\n\n      this.save({\n        quiz_id: this.data.id,\n        question_id: $el.closest('[data-question-id]').data('question-id'),\n        question_result: $el.closest('[data-question-result]').data('question-result'),\n        answer_id: $el.data('answer-id'),\n        answer_value: value\n      });\n    });\n\n  }\n\n  save( obj ) {\n\n    let data = Object.assign({}, { action: 'add_quiz_result' }, obj);\n\n    $.ajax({\n      url: this.url,\n      dataType: 'json',\n      data: data,\n      type: 'POST',\n      success: (data) => {\n\n        if (data.status) {\n\n          let resultEl = this.$currentButtonTarget.closest('[data-question-id]').find('[data-answer-text]').show();\n\n          if (data.answer_correct) {\n            resultEl.find('[data-answer-pretext]').addClass('state-is-true').html('<i class=\"fa fa-check-circle\"></i>');\n            resultEl.find('[data-answer-right-wrong]').html(this.answerTexts.right[0]);\n          }\n          else {\n            resultEl.find('[data-answer-pretext]').addClass('state-is-false').html('<i class=\"fa fa-times-circle\"></i>');\n            resultEl.find('[data-answer-right-wrong]').html(this.answerTexts.wrong[0]);\n          }\n\n          this.user.answers.push({\n            question_id: obj.question_id,\n            answer_correct: data.answer_correct\n          });\n\n          resultEl.css('display', 'flex');\n          this.deactivateQuestion();\n          this.checkSummary();\n        }\n      }\n    });\n\n  } \n\n  deactivateQuestion(selector) {\n    $(selector).find('[data-button]').attr('disabled', 'disabled');\n  }\n\n  checkSummary() {\n    if (this.user.answers.length === this.data.questions.length) {\n      console.log('show results');\n\n      $('[data-summary-text]').html(this.getSummaryText({\n        correct_answers: this.user.answers.filter(answer => { return answer.answer_correct === true }).length,\n        questions: this.data.questions.length \n      }));\n\n    } else {\n      console.log('dont show results yet');\n    }\n  }\n\n  getSummaryText(obj = {}) {\n    return `Du hast ${obj.correct_answers} von ${obj.questions} richtig beantwortet.`;\n  }\n\n}\n","// import View from '../app/view';\n\nexport default class Ticker {\n\n  constructor ( options = {} ) {\n\n    console.log(options);\n\n  }\n\n}\n","\n/**\n * Helper class to define custom geometries used for THREE.js rendering\n */\nexport default class ClickHelper {\n\n\n  constructor ( options = {} ) {\n\n    this.app = options.app;\n    this.mouse = new THREE.Vector2();\n    //this.projector = new THREE.Projector();\n\n    this.points = [];\n    this.mesh = null;\n    this.helperPlane = options.plane || null;\n    this.connectPoints = true;\n\n    if (!this.helperPlane)\n      this.renderHelperPlane();\n\n    this.initClickEvents();\n\n  }\n\n\n\tinitClickEvents () {\n\n    document.addEventListener( 'mousedown', (e) => this.onDocumentMouseDown(e), false );\n\n\t}\n\n\n  renderHelperPlane() {\n\n    this.groundFloor = new THREE.PlaneGeometry(10000, 10000, 1);\n\n\t\tthis.helperPlane = new THREE.Mesh(\n\t\t\tthis.groundFloor,\n\t\t\tnew THREE.MeshLambertMaterial({\n\t  \t\tcolor: 0x00ff00\n\t  \t})\n\t\t);\n\n\t\tthis.helperPlane.rotation.x = -Math.PI/2;\n    this.app.scene.add(this.helperPlane);\n\n  }\n\n\n  get3dPointZAxis(event) {\n      var vector = new THREE.Vector3(\n                  ( event.clientX / window.innerWidth ) * 2 - 1,\n                  - ( event.clientY / window.innerHeight ) * 2 + 1,\n                  0.5 );\n\n      vector.unproject( this.app.camera );\n      var dir = vector.sub( this.app.camera.position ).normalize();\n      var distance = - this.app.camera.position.z / dir.z;\n      var pos = this.app.camera.position.clone().add( dir.multiplyScalar( distance ) );\n      return pos;\n  }\n\n  renderPoints() {\n\n    if (this.points) {\n\n      this.app.scene.remove(this.mesh);\n\n\t\t\tvar shape = new THREE.Shape( this.points );\n      // var geometry = new THREE.ShapeGeometry( shape );\n\n      shape.autoClose = true;\n\t\t\tvar points = shape.createPointsGeometry();\n\t\t\tvar spacedPoints = shape.createSpacedPointsGeometry( 50 );\n\n      this.mesh = new THREE.Line( points, new THREE.LineBasicMaterial({ color: 0xce0000, linewidth: 3 }) );\n\t\t\t\t\t//line.position.set( this.mouse.x, 10, this.mouse.y );\n\t\t\tthis.mesh.rotation.x = Math.PI/2;\n\t\t\tthis.mesh.scale.set( 1, 1, 1 );\n\n\n\t\t\tthis.app.scene.add(this.mesh);\n\n      var p = JSON.stringify(this.points);\n      console.log(p);\n\n\n    }\n\n  }\n\n\n  onDocumentMouseDown(e) {\n\n\t\te.preventDefault();\n\t\tthis.updateMousePosition(e);\n\n    console.log('clickHelper clicked at', this.mouse);\n\n    if (this.connectPoints) {\n\n      var pos = this.get3dPointZAxis(e);\n      console.log(pos);\n\n      this.points.push( new THREE.Vector3(pos.x, -pos.y, 0) );\n\n      this.renderPoints();\n\n    }\n\n    var intersects = this.app.raycaster.intersectObject( this.helperPlane );\n\n    if ( intersects.length && intersects[0].object ) {\n\n      console.log('intersecting plane', intersects);\n\n    }\n\n\t}\n\n\n\tupdateMousePosition ( e ) {\n\n    this.mouse.x = ( e.clientX / $('#webgl-scene').width() ) * 2 - 1;\n\t\tthis.mouse.y = - ( e.clientY / $('#webgl-scene').height() ) * 2 + 1;\n\n\t}\n\n}\n","import Log from '../app/log';\nimport Utils from '../app/utils';\n\nexport default class Datetime {\n\n\n  constructor ( options = {} ) {\n\n    this.time = options.time;\n\n  }\n\n\n  setTime ( time ) {\n\n    this.time = time;\n\n  }\n\n\n  /**\n   * Retrieves a time based string in the format:\n   * ALso adds leading zeros.\n   * \n   * mm:ss => 00:00\n   */\n  getMinutesWithSeconds () {\n\n    let min = Math.floor(this.time / 60);\n    let sec = (this.time - min * 60).toFixed(0);\n\n    if (min < 10) {\n      min = '0' + min;\n    }\n\n    if (sec < 10) {\n      sec = '0' + sec;\n    }\n\n    return min + ':' + sec;\n\n  }\n\n\n}\n","//import THREE from 'three.js';\n\nimport Log from '../app/log';\nimport Utils from '../app/utils';\n\n\n/**\n * Helper class to define custom geometries used for THREE.js rendering\n */\nexport default class Geometry {\n\n\n  constructor ( options = {} ) {\n    this.options = options;\n    this.utils = new Utils();\n  }\n\n\n\trenderDashedCircle ( radius, color ) {\n\n\t\tif ( color == undefined )\n\t\t\tcolor = new THREE.Color('rgba(255, 255, 255, 0.75)');\n\n\t\tvar circleGeometry = new THREE.Geometry();\n\t\tvar verticesArray = circleGeometry.vertices;\n\t\tvar segments = 128;\n\t\tvar angle = 2 * Math.PI / segments;\n\n\t\tfor( var i = 0; i <= segments; i++ ) {\n\t    var x = radius * Math.cos(angle * i);\n\t    var y = radius * Math.sin(angle * i);\n\n\t    verticesArray.push( new THREE.Vector3(x, y, 0) );\n\t\t}\n\n\t\t// see: http://soledadpenades.com/articles/three-js-tutorials/drawing-the-coordinate-axes/\n\t\tvar circleMaterial = new THREE.LineDashedMaterial({\n\t\t\tcolor: 0x00FF00,\n\t\t\ttransparent: true,\n\t\t\topacity: 0.1,\n\t\t\tdashSize: this.utils.AU / 1000,\n\t\t\tgapSize: this.utils.AU / 1000\n\t\t});\n\n\t\tcircleGeometry.computeLineDistances();\n\n\t\tvar circleLine = new THREE.Line(circleGeometry, circleMaterial, THREE.LinePieces);\n\t\t\t\tcircleLine.position.set(0, 0, 0);\n\t\t\t\tcircleLine.rotation.set( -90 * Math.PI / 180, 0, 0 );\n\n\t\treturn circleLine;\n\t}\n\n}\n","\nexport default class Particle {\n\n  constructor ( options ) {\n\n    // define the position of the particle\n\t\tthis.position = options.vector;\n\n\t\t// initialize size with init value\n\t\tthis.size = 256;\n\n\t\t// field for additional \n\t\tthis.properties = {};\n  }\n\n}\n","//import THREE from 'three.js';\n\nimport Log from '../app/log';\nimport Utils from '../app/utils';\n\n\n/**\n * Helper class to define custom geometries used for THREE.js rendering\n */\nexport default class Text {\n\n\n  constructor ( options = {} ) {\n\n    this.options = options;\n    this.utils = new Utils();\n\n    this.app = options.app;\n    this.text = options.text;\n    this.color = options.color || 0x009000;\n    this.position = options.position;\n\n    this.font = './fonts/optimer_bold.typeface.json';\n    this.isCenter = options.isCenter || true;\n\n    this.material = new THREE.MeshPhongMaterial({\n      color: this.color,\n      shininess: 100\n    });\n\n    this.mesh;\n\n  }\n\n\n\trender () {\n\n\t\tthis.loader = new THREE.FontLoader();\n\t\tthis.loader.load(this.font, (font) => {\n\n\t    this.geometry = new THREE.TextGeometry( this.text, {\n\n\t      font: font,\n\n\t      size: .7,\n\t      height: .01,\n\t      curveSegments: 20,\n\t      weight: 'light',\n\n\t      bevelThickness: .03,\n\t      bevelSize: .01,\n\t      bevelEnabled: true\n\n\t    });\n\n\t    this.mesh = new THREE.Mesh(\n\t      this.geometry,\n\t      this.material\n\t    );\n\n\t    if (this.isCenter)\n    \t\tthis.center();\n\n\n    \tthis.mesh.castShadow = true;\n\n    \tif (this.options.group)\n    \t\tthis.options.group.add(this.mesh);\n\n\t\t});\n\n\n\t}\n\n\n\tcenter () {\n\n\t\tthis.geometry.computeBoundingBox();\n\t\tlet textWidth = this.geometry.boundingBox.max.x - this.geometry.boundingBox.min.x;\n\n    this.mesh.position.set( -0.5 * textWidth, .1, 0 );\n\n\t}\n\n\n\tgetMesh () {\n\n\t\treturn this.mesh;\n\n\t}\n\n\n}\n","//import THREE from 'three.js';\n\nimport Log from '../app/log';\nimport Utils from '../app/utils';\n\n\n/**\n * Helper class to define custom textures used for THREE.js rendering\n * Textures rendered to 2d canvas\n */\nexport default class Textures {\n\n\n  constructor ( options = {} ) {\n\n    this.options = options;\n    this.utils = new Utils();\n\n    this.canvas = null;\n    this.context = null;\n    this.size = 512\n\n  }\n\n\n  createCanvas (size = 128) {\n\n    this.size = size;\n    this.canvas = document.createElement( 'canvas' );\n    this.canvas.width = this.size;\n    this.canvas.height = this.size;\n\n  }\n\n\n  getCircleMaterial (size = 128) {\n\n    this.createCanvas(size);\n    this.context = this.canvas.getContext( '2d' );\n\n    this.context.beginPath();\n    this.context.arc(this.canvas.width, this.canvas.height, size/2, 0, 2 * Math.PI);\n    this.context.stroke();\n\n    return this.canvas;\n\n  }\n\n\n  updateCircleTexture (time, color = '#00ce00', glowColor = '#ffffff') {\n\n    let radius = Math.abs( this.size/2 * Math.sin(time.elapsedTime));\n\n    this.clearCanvas();\n\n    this.drawRadialGradient();\n\n    this.drawCircle(radius, 4, '#00ce00', 2, '#fff');\n    //this.drawCircle(radius/2, 8, '#00ce00');\n    //this.drawCircle(radius/6, 6, '#00ce00');\n\n  }\n\n\n  clearCanvas (clearColor = 'black') {\n\n    this.context.fillStyle = clearColor;\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n  }\n\n\n  drawCircle ( radius = 10, lineWidth = 10, stroke = '#00ce00', shadowRadius, shadowColor) {\n\n    this.context.beginPath();\n\n    if (shadowRadius && shadowColor) {\n      this.context.shadowBlur = shadowRadius;\n      this.context.shadowColor = shadowColor;\n    }\n\n    this.context.lineWidth = lineWidth;\n    this.context.strokeStyle = stroke;\n    this.context.arc(this.canvas.width/2, this.canvas.width/2, radius, 0, 2 * Math.PI);\n    this.context.stroke();\n\n  }\n\n\n  drawRadialGradient() {\n\n    var gradient = this.context.createRadialGradient(\n\t\t\tthis.canvas.width / 2,\n\t\t\tthis.canvas.height / 2,\n\t\t\t0,\n\t\t\tthis.canvas.width / 2,\n\t\t\tthis.canvas.height / 2,\n\t\t\tthis.canvas.width / 2\n\t\t);\n\n\t\tgradient.addColorStop( 0.0, 'rgba(50, 200, 50, 1.0)');\n\t\tgradient.addColorStop( 0.85, 'rgba(25, 255, 25, 0.35)' );\n\t\tgradient.addColorStop( 1.0, 'rgba(0, 50, 0, 0.0)' );\n\n\t\tthis.context.fillStyle = gradient;\n\t\tthis.context.fillRect( 0, 0, this.canvas.width, this.canvas.height );\n\n  }\n\n\n  getStarMaterial ( showShininess ) {\n\n\t\t// create the star texture\n\t\tvar canvas = document.createElement( 'canvas' );\n\t\t\t\tcanvas.width = 512;\n\t\t\t\tcanvas.height = 512;\n\n\t\t//var col = new THREE.Color(color);\n\t\tvar context = canvas.getContext( '2d' );\n\n\t\tvar gradient = context.createRadialGradient(\n\t\t\tcanvas.width / 2,\n\t\t\tcanvas.height / 2,\n\t\t\t0,\n\t\t\tcanvas.width / 2,\n\t\t\tcanvas.height / 2,\n\t\t\tcanvas.width / 2\n\t\t);\n\n\t\tgradient.addColorStop( 0, 'rgba(255, 255, 255, 1.0)');\n\t\tgradient.addColorStop( 0.05, 'rgba(205, 205, 224, 1.0)');\n\t\tgradient.addColorStop( 0.1, 'rgba(125, 100, 0, 0.35)' );\n\t\tgradient.addColorStop( 1.0, 'rgba(0,0,0,0.0)' );\n\n\t\tcontext.fillStyle = gradient;\n\t\tcontext.fillRect( 0, 0, canvas.width, canvas.height );\n\n\t\tif ( showShininess ) {\n\t\t\tcontext.beginPath();\n\t\t\tcontext.lineWidth = 2;\n\n\t\t\t// top - bottom\n      context.moveTo(canvas.width/2, 0);\n      context.lineTo(canvas.width/2, canvas.height);\n\n      // left - right\n      context.moveTo(0, canvas.height/2);\n      context.lineTo(canvas.width, canvas.height/2);\n\n      // set line color\n      context.strokeStyle = 'rgba(255,255,255,0.75)';\n      context.stroke();\n\t\t}\n\n\t\tvar texture = new THREE.Texture(canvas);\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\t}\n\n\n}\n","\n//import TemplateLevelStart from './dialog/level_start';\n//import TemplateLevelCompleted from './dialog/level_completed';\n\nexport default function template(data) {\n\n  console.log('rendering template with data', data);\n\n  return $(`\n\n    <div class=\"dialog\">\n\n      <div class=\"dialog-title\">${data.title}</div>\n\n      <div class=\"dialog-content\">${data.content}</div>\n\n    </div>\n\n  `);\n\n}\n","export default function template(data) {\n\n  console.log('rendering template with data', data);\n\n  return $(`\n    <div>\n\n      <h1>Level Solved</h1>\n\n      <p>\n        moves: ${data.moves} <br>\n        pushes: ${data.pushes} <br>\n        time: ${data.time}\n      </p>\n\n      <p>\n\n        <button\n          id=\"button-replay-level\"\n          class=\"button button-large button-game\"\n          data-handler=\"interactive\"\n          data-event=\"click\"\n          data-action=\"reload\"\n          title=\"Reload this level\">\n\n          <span class=\"fa fa-repeat\"></span>\n\n        </button>\n\n\n        <button\n          id=\"button-next-level\"\n          class=\"button button-large button-game\"\n          data-handler=\"interactive\"\n          data-event=\"click\"\n          data-action=\"loadNextLevel\"\n          title=\"Load next Level\">\n\n          <span class=\"fa fa-forward\"></span>\n\n        </button>\n\n      </p>\n\n    </div>\n  `);\n\n}\n","export default function template(data) {\n\n  console.log('rendering template with data', data);\n\n  return $(`\n    <div>\n\n      <p>The best result for this level was:</p>\n      <p>3:00 Min <br> 56 pushes <br> 143 moves </p>\n      <h3>Can you beat it?</h3>\n      <p>\n\n        <button\n          class=\"button button-large button-game\"\n          data-handler=\"interactive\"\n          data-event=\"click\"\n          data-action=\"start\"\n          data-scope=\"level\"\n          id=\"btn-start-game\">\n\n          Start Game\n\n        </button>\n\n      </p>\n\n    </div>\n  `);\n\n}\n","import View from '../app/view';\n\nexport default class Button extends View {\n\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.app = options.app;\n    this.name = options.name;\n    this.text = options.text;\n\n    this.object = options.object;\n    this.action = options.action;\n\n    this.isActive = false;\n\n    this.$template = $(`<button class=\"button button-round button-control button-inactive\">${this.text}</button>`);\n\n  }\n\n\n  render ($element = $('body')) {\n\n    $element.append( this.$template );\n    this.initEvents();\n\n  }\n\n\n  initEvents () {\n\n    this.$template.on('click', (e) => {\n\n      if (!this.isActive) return;\n\n      let $btn = $(e.currentTarget);\n      this.app.level[this.object][this.action]();\n\n    });\n\n  }\n\n\n  remove () {\n\n    this.$template.remove();\n\n  }\n\n\n  activate() {\n\n    this.isActive = true;\n    this.$template.addClass('button-animated');\n\n  }\n\n\n  deactivate() {\n\n    this.isActive = false;\n    this.$template.removeClass('button-animated');\n\n  }\n\n}\n","import View from '../app/view';\n\n// base template\nimport DialogTemplate from '../templates/dialog';\n\n// nested templates\nimport TemplateLevelStart from '../templates/dialog/level_start';\nimport TemplateLevelCompleted from '../templates/dialog/level_completed';\n\n\nexport default class Dialog extends View {\n\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.classes = {\n      TemplateLevelStart,\n      TemplateLevelCompleted\n    }\n\n    this.app = options.app;\n    this.data = options.data;\n\n    this.className = '.dialog';\n\n    this.prepareTemplate();\n    this.render();\n    this.initEvents();\n\n  }\n\n\n  prepareTemplate () {\n\n    // render main template with nested template\n    if (this.data.template) {\n\n      let nestedTemplate = new this.classes[this.data.template](this.data);\n      this.data.content = nestedTemplate.html();\n\n    }\n\n    this.$template = new DialogTemplate(this.data);\n\n  }\n\n\n  render () {\n\n    $('body').find(this.className).remove();\n    $('body').append(this.$template);\n\n    this.resizeToContent();\n\n  }\n\n\n  initEvents () {\n\n\n    this.$template.find('[data-handler]').each((i, item) => {\n\n      $(item).on( $(item).data('event') , (e) => {\n\n        e.preventDefault();\n\n        let $btn = $(e.currentTarget);\n        let action = $btn.data('action');\n\n        this.app[action]();\n        this.close();\n\n      });\n\n    });\n\n\n    /*\n    this.$template.find('.button-round').on('click', (e) => {\n\n      let $btn = $(e.currentTarget);\n      let resolution = $btn.data('resolution');\n\n      this.$template.find('.button-round').not(this).removeClass('active');\n      $btn.toggleClass('active');\n\n      this.action.scope.setResolution(resolution);\n\n      this.$template.find('.action-btn').removeClass('hidden');\n\n    });\n    */\n\n    /*\n    this.$template.find('.action-btn').on('click', (e) => {\n\n      this.close();\n      this.action.scope[this.action.function]();\n\n    });\n    */\n\n    /*\n    this.actions.forEach( (action) => {\n\n      $(action.id).on('click', (e) => {\n        e.preventDefault();\n\n        this.app[action.action]();\n        this.close();\n\n      });\n\n    });\n    */\n\n  }\n\n\n  resizeToContent() {\n\n    let contentWidth = this.$template.outerWidth();\n    let contentHeight = this.$template.outerHeight();\n\n    this.$template.css({\n      left: $(window).width() / 2 - (contentWidth/2),\n      top: $(window).height() / 2 - (contentHeight/2)\n    });\n\n  }\n\n\n  close () {\n\n    this.$template.remove();\n\n  }\n\n}\n","import View from '../app/view';\n\nimport Datetime from '../helpers/datetime';\n\nexport default class Interface extends View {\n\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.app = options.app;\n    this.datetime = new Datetime();\n\n    this.$template = $(`\n      <div id=\"interface\">\n\n        <div class=\"level\">\n          <span class=\"level-name\"></span>\n          <span class=\"level-difficulty\"></span>\n        </div>\n\n        <div class=\"time\">\n          <span class=\"icon\">Time: </span>\n          <span class=\"time-seconds\">00:00</span>\n        </div>\n\n        <div class=\"moves\">\n          <span class=\"icon\">Moves: </span>\n          <span class=\"number-moves\">0</span>\n        </div>\n\n        <div class=\"pushes\">\n          <span class=\"icon\">Pushes: </span>\n          <span class=\"number-pushes\">0</span>\n        </div>\n\n        <div class=\"icons\" title=\"How to play\">\n          <span class=\"icon icon-help\" data-action=\"openLightbox\">i</span>\n          <span class=\"icon icon-fullscreen\">fs</span>\n          <span class=\"icon icon-solver\" id=\"solver\">S</span>\n        </div>\n\n      </div>\n\n      <div id=\"items\">\n        <!--\n        <div class=\"item\">\n          <span class=\"icon\">Hammer: </span>\n          <span class=\"hammers-number\">0</span>\n        </div>\n        -->\n      </div>\n\n      <div id=\"buttons\"></div>\n\n      <div id=\"controls\">\n        <div class=\"button button-round button-control button-up\">up</div>\n        <div class=\"button button-round button-control button-left\">left</div>\n        <div class=\"button button-round button-control button-down\">down</div>\n        <div class=\"button button-round button-control button-right\">right</div>\n      </div>\n\n    `);\n\n  }\n\n\n  render () {\n\n    $('body').append( this.$template );\n\n    this.initEvents();\n\n  }\n\n\n  initEvents () {\n\n    this.$template.find('.button-up').on('click', (e) => {\n      this.app.level.character.move('up');\n    });\n\n    this.$template.find('.button-left').on('click', (e) => {\n      this.app.level.character.move('left');\n    });\n\n    this.$template.find('.button-down').on('click', (e) => {\n      this.app.level.character.move('down');\n    });\n\n    this.$template.find('.button-right').on('click', (e) => {\n      this.app.level.character.move('right');\n    });\n\n\n    this.$template.find('.icon-fullscreen').on('click', (e) => {\n\n      if (THREEx.FullScreen.available()) {\n\n        THREEx.FullScreen.activated() ? THREEx.FullScreen.cancel() : THREEx.FullScreen.request();\n\n      }\n\n    });\n\n\n\n\n  }\n\n\n  setLevelName (level) {\n\n    this.$template.find('.level-name').text( level.world + '@' + level.name);\n\n    if (level.difficulty) {\n      this.$template.find('.level-difficulty').text('('+ level.difficulty +' level)');\n    }\n\n  }\n\n\n  setMoves (moves) {\n\n    this.$template.find('.number-moves').text(moves);\n\n  }\n\n\n  setPushes (pushes) {\n\n    this.$template.find('.number-pushes').text(pushes);\n\n  }\n\n\n  updateTime ( time ) {\n\n    this.datetime.setTime(time);\n    this.$template.find('.time .time-seconds').text( this.datetime.getMinutesWithSeconds() );\n\n  }\n\n\n  remove () {\n\n    this.$template.remove();\n\n  }\n\n}\n","import View from '../app/view';\n\nexport default class Label extends View {\n\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.app = options.app;\n    this.data = options.data;\n    this.planetsystem = options.planetsystem;\n\n    this.planetsystemName = this.planetsystem.name.toLowerCase().replace(' ', '-');\n    this.planetName = this.data.name.toLowerCase().replace(' ', '-');\n\n    this.$template = $(`\n      <span class=\"label label-${this.planetsystemName} label-${this.planetName}\">\n        <span class=\"label-marker\"></span>\n        ${this.data.name}\n      </span>\n    `);\n\n    this.render();\n    this.initEvents();\n\n  }\n\n\n  render () {\n\n    this.$template.css({'color': '#' + this.utils.orbitColors[ this.app.systems.length ].toString(16) });\n\n    $('#labels').append( this.$template );\n\n  }\n\n\n  initEvents () {\n\n\n    this.$template.on('click', (e) => {\n\n      let $btn = $(e.currentTarget);\n\n      console.log('load planet data');\n\n    });\n\n\n    this.$template.on('mouseover', (e) => {\n\n      console.log('planet mouseover');\n\n    });\n\n    this.$template.on('mouseout', (e) => {\n\n      console.log('planet mouseout');\n\n    });\n\n  }\n\n\n  remove () {\n\n    this.$template.remove();\n\n  }\n\n\n  updatePosition (object) {\n\n    //let pos = window.utils.getPosition2D( mesh.parent.parent, self.camera, self.projector);\n    let pos = this.utils.toScreenPosition( object, this.app.camera );\n\n    this.$template.css({\n      'left': pos.x + 'px',\n      'top': pos.y + 'px'\n    });\n\n  }\n\n}\n","import Utils from '../app/utils';\n\nexport default class Template {\n\n\tconstructor ( options = {} ) {\n\n\t\tthis.utils = new Utils();\n\t\tthis.templates = [];\n\n\t\tthis.data = options.data;\n\t\tthis.template = options.template;\n\n\t\tthis.templates['tooltipStarTemplate'] = $(`\n\n\t\t\t<div class=\"headline\">${this.data.pl_hostname}</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Type</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.type}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Distance (Parsec)</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.dist}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Distance (Light Years)</span></div>\n\t\t\t  <div class=\"value\"><span>${ (this.data.dist * this.utils.PC).toFixed(2) }</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Mass (Sun Masses)</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.mass}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Radius (Sun Radii)</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.radius}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Planets</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.pl_num}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Habitable Planets</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.habitable}</span></div>\n\t\t\t</div>\n\n\t\t`);\n\n\t}\n\n\n\trender () {\n\n\t\treturn this.templates[this.template];\n\n\t}\n\n}\n","import View from '../app/view';\n\nimport Template from './template';\n\nexport default class Tooltip extends View {\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.template = options.template ? options.template : 'default';\n    this.$template = $('<div id=\"tooltip\"></div>');\n    this.render();\n  }\n\n\n  render () {\n\n    if (this.template)\n      console.log(this.template);\n\n    $('body').append(this.$template);\n\n  }\n\n\n  setData (data) {\n\n    let template = new Template({\n      template: 'tooltipStarTemplate',\n      data: data\n    });\n\n    this.$template.html( template.render() );\n\n  }\n\n\n  updatePosition (pos) {\n\n    this.$template.css({\n      left: pos.x + 18,\n      top: pos.y\n    });\n\n  }\n\n\n  remove (){\n\n    this.$template.remove();\n\n  }\n\n  show () {\n\n    this.$template.show();\n\n  }\n\n  hide () {\n\n    this.$template.hide();\n\n  }\n\n\n}\n"]}