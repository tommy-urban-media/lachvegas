{"version":3,"sources":["src/js/app.js","src/js/app/log.js","src/js/app/model.js","src/js/app/utils.js","src/js/app/view.js","src/js/components/calendar.js","src/js/components/index.js","src/js/components/menu.js","src/js/components/ticker.js","src/js/helpers/clickHelper.js","src/js/helpers/datetime.js","src/js/helpers/geometry.js","src/js/helpers/particle.js","src/js/helpers/text.js","src/js/helpers/textures.js","src/js/templates/dialog.js","src/js/templates/dialog/level_completed.js","src/js/templates/dialog/level_start.js","src/js/views/button.js","src/js/views/dialog.js","src/js/views/interface.js","src/js/views/label.js","src/js/views/template.js","src/js/views/tooltip.js"],"names":["App","_components","Components","getNodes","setupTheme","each","i","node","component","data","undefined","app","e","console","warn","on","toggleClass","window","init","__useDefault","Log","message","print","type","log","Model","options","utils","Utils","loadAsync","url","method","callback","scope","$","ajax","dataType","success","response","call","param","RegExp","encodeURIComponent","exec","location","search","decodeURIComponent","parent","self","path","cacheBust","appConfig","root","Math","random","canvas","document","createElement","WebGLRenderingContext","getContext","txt","isDevelopmentMode","params","View","name","$view","$el","html","$element","Calendar","Ticker","Menu","find","preventDefault","slideToggle","ClickHelper","mouse","THREE","Vector2","points","mesh","helperPlane","plane","connectPoints","renderHelperPlane","initClickEvents","addEventListener","onDocumentMouseDown","groundFloor","PlaneGeometry","Mesh","MeshLambertMaterial","color","rotation","x","PI","scene","add","event","vector","Vector3","clientX","innerWidth","clientY","innerHeight","unproject","camera","dir","sub","position","normalize","distance","z","pos","clone","multiplyScalar","remove","shape","Shape","autoClose","createPointsGeometry","spacedPoints","createSpacedPointsGeometry","Line","LineBasicMaterial","linewidth","scale","set","p","JSON","stringify","updateMousePosition","get3dPointZAxis","push","y","renderPoints","intersects","raycaster","intersectObject","length","object","width","height","Datetime","time","min","floor","sec","toFixed","Geometry","radius","Color","circleGeometry","verticesArray","vertices","segments","angle","cos","sin","circleMaterial","LineDashedMaterial","transparent","opacity","dashSize","AU","gapSize","computeLineDistances","circleLine","LinePieces","Particle","size","properties","Text","text","font","isCenter","material","MeshPhongMaterial","shininess","loader","FontLoader","load","geometry","TextGeometry","curveSegments","weight","bevelThickness","bevelSize","bevelEnabled","center","castShadow","group","computeBoundingBox","textWidth","boundingBox","max","Textures","context","createCanvas","beginPath","arc","stroke","glowColor","abs","elapsedTime","clearCanvas","drawRadialGradient","drawCircle","clearColor","fillStyle","fillRect","lineWidth","shadowRadius","shadowColor","shadowBlur","strokeStyle","gradient","createRadialGradient","addColorStop","showShininess","moveTo","lineTo","texture","Texture","needsUpdate","template","title","content","moves","pushes","Button","action","isActive","$template","append","initEvents","$btn","currentTarget","level","addClass","removeClass","Dialog","classes","TemplateLevelStart","TemplateLevelCompleted","className","prepareTemplate","render","nestedTemplate","DialogTemplate","resizeToContent","item","close","contentWidth","outerWidth","contentHeight","outerHeight","css","left","top","Interface","datetime","character","move","THREEx","FullScreen","available","activated","cancel","request","world","difficulty","setTime","getMinutesWithSeconds","Label","planetsystem","planetsystemName","toLowerCase","replace","planetName","orbitColors","systems","toString","toScreenPosition","Template","templates","pl_hostname","dist","PC","mass","pl_num","habitable","Tooltip","show","hide"],"mappings":"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","file":"public/js/app.js","sourcesContent":["import $ from 'jquery';\n\n// Import all available Components\nimport Components from './components'; \n\n\nexport default class App {\n\n\n  constructor () {\n\n    this._components = Components; \n\n  }\n\n\n  init () {\n\n    this.getNodes();\n    this.setupTheme();\n\n  }\n\n\n  getNodes() {\n\n    $('[data-component]').each((i, node) => {\n\n      let component = $(node).data('component');\n\n      if (this._components[component] !== undefined) {\n\n        try {\n          \n          new (this._components[component])({ app: this, node: node });\n\n        } catch (e) {\n\n          console.warn('component ' + component + ' could not be called', e);\n\n        }\n\n      } else {\n\n        console.warn('component \"' + component + '\" does not have implementation ');\n\n      }\n\n    });\n\n  }\n\n\n  setupTheme () {\n\n    $('.search-label').on('click', () => {\n      $('.search-area').toggleClass('is-expanded');\n    });\n\n  }\n\n};\n\nwindow.App = new App();\nwindow.App.init();\n","export var __useDefault = true;\n\nexport default class Log {\n\n  init () {}\n\n  info (message) {\n  \tthis.print(message, 'info');\n  }\n\n  error (message) {\n\t\tthis.print(message, 'error');\n  }\n\n  print (message, type = 'info') {\n  \tif (typeof(console) === 'object' && window.console.log) {\n  \t\tconsole.log(message);\n  \t}\n  }\n}","\n\nimport Log from './log';\nimport Utils from './utils';\n\nexport default class Model {\n\n\n\tconstructor ( options = {} ) {\n\n    this.app = options.app;\n\n    this.log = new Log();\n    this.utils = new Utils();\n\n\t}\n\n\n  save() {\n\n    console.log('saving data', this.data);\n\t\tthis.loadAsync(this.url, this.data);\n\n  }\n\n\n\n\tloadAsync(url, data = {}, method = 'post', callback = {}, scope = this) {\n\n    $.ajax({\n\n      url: url,\n      data: data,\n      dataType: 'json',\n      type: method,\n      success: response => {\n\n        if (response) {\n\n\t\t\t\t\tconsole.log(response);\n\n          if (typeof(callback) == 'function') {\n\n              callback.call(scope, response);\n\n          }\n\n        }\n\n\t\t\t}\n    });\n\n  }\n\n}\n","//import THREE from 'three.js';\n\nexport var __useDefault = true;\n\n\n/**\n * Utility class to be used for global functions\n */\n\nexport default class Utils {\n\n\tconstructor() {}\n\n\n\tgetParam (param){\n\n   \tif (param = (new RegExp('[?&]'+encodeURIComponent(param)+'=([^&]*)')).exec(location.search))\n      return decodeURIComponent(param[1]);\n\n\t}\n\n\tisIframe () {\n\n\t\treturn !(parent.location == self.location);\n\n\t}\n\n\n\turl ( path, cacheBust = false ) {\n\n\t\tif (appConfig.root) {\n\n\t\t\tlet url = appConfig.root + path;\n\n\t\t\tif (cacheBust)\n\t\t\t\treturn url + '?time=' + Math.random();\n\n\t\t\telse\n\t\t\t\treturn url;\n\n\t\t}\n\n\t}\n\n\n\t// derived from: https://github.com/mrdoob/three.js/blob/master/examples/js/Detector.js\n  isWebGLSupported() {\n\n    try {\n\n      let canvas = document.createElement(\"canvas\");\n      return !! window.WebGLRenderingContext && (canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\"));\n\n    } catch(e) { return false; }\n\n  }\n\n\n  debug(txt) {\n\n  \tif (window.isDevelopmentMode)\n  \t\tconsole.log(txt);\n\n  }\n\n\n\tloadAsynch (url, params, callback = {}) {\n\n\t\t$.ajax({\n\t\t\turl: url,\n\t\t\tdataType: 'json',\n\t\t\tdata: params,\n\t\t\tmethod: 'post',\n\t\t\tsuccess: function(data) {\n\t\t\t\tconsole.log(data);\n\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\n\t}\n\n\n}\n","export var __useDefault = true;\n\nimport Utils from './utils';\n\nimport Template from '../views/template';\n\n/**\n * View base class\n * Used for all DOM - related objects\n *\n */\n\nexport default class View {\n\n\tconstructor ( options = {} ) {\n\n\t\tthis.options = options;\n\t\tthis.app = options.app;\n\n\t\tthis.utils = new Utils();\n\n\t\tthis.name = '';\n\t\tthis.$view = ``;\n\n\t}\n\n\tsetData() {\n\n\t}\n\n\trender() {\n\n\t\tthis.$el = this.$view;\n\t\treturn this.$el;\n\n\t}\n\n\tgetHtml() {\n\n\t\treturn this.$el.html();\n\n\t}\n\n\tappendTo( $element ) {\n\n\n\n\t}\n\n}\n","export default class Calendar {\n\n  constructor ( options = {} ) {\n\n    console.log(options);\n\n  }\n\n}\n","import Calendar from './calendar';\nimport Menu from './menu';\nimport Ticker from './ticker';\n\nexport default { \n\n  Calendar,\n  Ticker,\n  Menu\n  \n}","import $ from 'jquery';\n\nexport default class Menu {\n\n  constructor ( options = {} ) {\n    this.node = $(options.node);\n    this.init();\n  }\n\n  init() {\n\n    this.node.find('.menu-icon').on('click', (e) => {\n      e.preventDefault();\n      this.node.find('.menu').slideToggle('fast');\n    });\n\n  }\n\n}\n","// import View from '../app/view';\n\nexport default class Ticker {\n\n  constructor ( options = {} ) {\n\n    console.log(options);\n\n  }\n\n}\n","\n/**\n * Helper class to define custom geometries used for THREE.js rendering\n */\nexport default class ClickHelper {\n\n\n  constructor ( options = {} ) {\n\n    this.app = options.app;\n    this.mouse = new THREE.Vector2();\n    //this.projector = new THREE.Projector();\n\n    this.points = [];\n    this.mesh = null;\n    this.helperPlane = options.plane || null;\n    this.connectPoints = true;\n\n    if (!this.helperPlane)\n      this.renderHelperPlane();\n\n    this.initClickEvents();\n\n  }\n\n\n\tinitClickEvents () {\n\n    document.addEventListener( 'mousedown', (e) => this.onDocumentMouseDown(e), false );\n\n\t}\n\n\n  renderHelperPlane() {\n\n    this.groundFloor = new THREE.PlaneGeometry(10000, 10000, 1);\n\n\t\tthis.helperPlane = new THREE.Mesh(\n\t\t\tthis.groundFloor,\n\t\t\tnew THREE.MeshLambertMaterial({\n\t  \t\tcolor: 0x00ff00\n\t  \t})\n\t\t);\n\n\t\tthis.helperPlane.rotation.x = -Math.PI/2;\n    this.app.scene.add(this.helperPlane);\n\n  }\n\n\n  get3dPointZAxis(event) {\n      var vector = new THREE.Vector3(\n                  ( event.clientX / window.innerWidth ) * 2 - 1,\n                  - ( event.clientY / window.innerHeight ) * 2 + 1,\n                  0.5 );\n\n      vector.unproject( this.app.camera );\n      var dir = vector.sub( this.app.camera.position ).normalize();\n      var distance = - this.app.camera.position.z / dir.z;\n      var pos = this.app.camera.position.clone().add( dir.multiplyScalar( distance ) );\n      return pos;\n  }\n\n  renderPoints() {\n\n    if (this.points) {\n\n      this.app.scene.remove(this.mesh);\n\n\t\t\tvar shape = new THREE.Shape( this.points );\n      // var geometry = new THREE.ShapeGeometry( shape );\n\n      shape.autoClose = true;\n\t\t\tvar points = shape.createPointsGeometry();\n\t\t\tvar spacedPoints = shape.createSpacedPointsGeometry( 50 );\n\n      this.mesh = new THREE.Line( points, new THREE.LineBasicMaterial({ color: 0xce0000, linewidth: 3 }) );\n\t\t\t\t\t//line.position.set( this.mouse.x, 10, this.mouse.y );\n\t\t\tthis.mesh.rotation.x = Math.PI/2;\n\t\t\tthis.mesh.scale.set( 1, 1, 1 );\n\n\n\t\t\tthis.app.scene.add(this.mesh);\n\n      var p = JSON.stringify(this.points);\n      console.log(p);\n\n\n    }\n\n  }\n\n\n  onDocumentMouseDown(e) {\n\n\t\te.preventDefault();\n\t\tthis.updateMousePosition(e);\n\n    console.log('clickHelper clicked at', this.mouse);\n\n    if (this.connectPoints) {\n\n      var pos = this.get3dPointZAxis(e);\n      console.log(pos);\n\n      this.points.push( new THREE.Vector3(pos.x, -pos.y, 0) );\n\n      this.renderPoints();\n\n    }\n\n    var intersects = this.app.raycaster.intersectObject( this.helperPlane );\n\n    if ( intersects.length && intersects[0].object ) {\n\n      console.log('intersecting plane', intersects);\n\n    }\n\n\t}\n\n\n\tupdateMousePosition ( e ) {\n\n    this.mouse.x = ( e.clientX / $('#webgl-scene').width() ) * 2 - 1;\n\t\tthis.mouse.y = - ( e.clientY / $('#webgl-scene').height() ) * 2 + 1;\n\n\t}\n\n}\n","import Log from '../app/log';\nimport Utils from '../app/utils';\n\nexport default class Datetime {\n\n\n  constructor ( options = {} ) {\n\n    this.time = options.time;\n\n  }\n\n\n  setTime ( time ) {\n\n    this.time = time;\n\n  }\n\n\n  /**\n   * Retrieves a time based string in the format:\n   * ALso adds leading zeros.\n   * \n   * mm:ss => 00:00\n   */\n  getMinutesWithSeconds () {\n\n    let min = Math.floor(this.time / 60);\n    let sec = (this.time - min * 60).toFixed(0);\n\n    if (min < 10) {\n      min = '0' + min;\n    }\n\n    if (sec < 10) {\n      sec = '0' + sec;\n    }\n\n    return min + ':' + sec;\n\n  }\n\n\n}\n","//import THREE from 'three.js';\n\nimport Log from '../app/log';\nimport Utils from '../app/utils';\n\n\n/**\n * Helper class to define custom geometries used for THREE.js rendering\n */\nexport default class Geometry {\n\n\n  constructor ( options = {} ) {\n    this.options = options;\n    this.utils = new Utils();\n  }\n\n\n\trenderDashedCircle ( radius, color ) {\n\n\t\tif ( color == undefined )\n\t\t\tcolor = new THREE.Color('rgba(255, 255, 255, 0.75)');\n\n\t\tvar circleGeometry = new THREE.Geometry();\n\t\tvar verticesArray = circleGeometry.vertices;\n\t\tvar segments = 128;\n\t\tvar angle = 2 * Math.PI / segments;\n\n\t\tfor( var i = 0; i <= segments; i++ ) {\n\t    var x = radius * Math.cos(angle * i);\n\t    var y = radius * Math.sin(angle * i);\n\n\t    verticesArray.push( new THREE.Vector3(x, y, 0) );\n\t\t}\n\n\t\t// see: http://soledadpenades.com/articles/three-js-tutorials/drawing-the-coordinate-axes/\n\t\tvar circleMaterial = new THREE.LineDashedMaterial({\n\t\t\tcolor: 0x00FF00,\n\t\t\ttransparent: true,\n\t\t\topacity: 0.1,\n\t\t\tdashSize: this.utils.AU / 1000,\n\t\t\tgapSize: this.utils.AU / 1000\n\t\t});\n\n\t\tcircleGeometry.computeLineDistances();\n\n\t\tvar circleLine = new THREE.Line(circleGeometry, circleMaterial, THREE.LinePieces);\n\t\t\t\tcircleLine.position.set(0, 0, 0);\n\t\t\t\tcircleLine.rotation.set( -90 * Math.PI / 180, 0, 0 );\n\n\t\treturn circleLine;\n\t}\n\n}\n","\nexport default class Particle {\n\n  constructor ( options ) {\n\n    // define the position of the particle\n\t\tthis.position = options.vector;\n\n\t\t// initialize size with init value\n\t\tthis.size = 256;\n\n\t\t// field for additional \n\t\tthis.properties = {};\n  }\n\n}\n","//import THREE from 'three.js';\n\nimport Log from '../app/log';\nimport Utils from '../app/utils';\n\n\n/**\n * Helper class to define custom geometries used for THREE.js rendering\n */\nexport default class Text {\n\n\n  constructor ( options = {} ) {\n\n    this.options = options;\n    this.utils = new Utils();\n\n    this.app = options.app;\n    this.text = options.text;\n    this.color = options.color || 0x009000;\n    this.position = options.position;\n\n    this.font = './fonts/optimer_bold.typeface.json';\n    this.isCenter = options.isCenter || true;\n\n    this.material = new THREE.MeshPhongMaterial({\n      color: this.color,\n      shininess: 100\n    });\n\n    this.mesh;\n\n  }\n\n\n\trender () {\n\n\t\tthis.loader = new THREE.FontLoader();\n\t\tthis.loader.load(this.font, (font) => {\n\n\t    this.geometry = new THREE.TextGeometry( this.text, {\n\n\t      font: font,\n\n\t      size: .7,\n\t      height: .01,\n\t      curveSegments: 20,\n\t      weight: 'light',\n\n\t      bevelThickness: .03,\n\t      bevelSize: .01,\n\t      bevelEnabled: true\n\n\t    });\n\n\t    this.mesh = new THREE.Mesh(\n\t      this.geometry,\n\t      this.material\n\t    );\n\n\t    if (this.isCenter)\n    \t\tthis.center();\n\n\n    \tthis.mesh.castShadow = true;\n\n    \tif (this.options.group)\n    \t\tthis.options.group.add(this.mesh);\n\n\t\t});\n\n\n\t}\n\n\n\tcenter () {\n\n\t\tthis.geometry.computeBoundingBox();\n\t\tlet textWidth = this.geometry.boundingBox.max.x - this.geometry.boundingBox.min.x;\n\n    this.mesh.position.set( -0.5 * textWidth, .1, 0 );\n\n\t}\n\n\n\tgetMesh () {\n\n\t\treturn this.mesh;\n\n\t}\n\n\n}\n","//import THREE from 'three.js';\n\nimport Log from '../app/log';\nimport Utils from '../app/utils';\n\n\n/**\n * Helper class to define custom textures used for THREE.js rendering\n * Textures rendered to 2d canvas\n */\nexport default class Textures {\n\n\n  constructor ( options = {} ) {\n\n    this.options = options;\n    this.utils = new Utils();\n\n    this.canvas = null;\n    this.context = null;\n    this.size = 512\n\n  }\n\n\n  createCanvas (size = 128) {\n\n    this.size = size;\n    this.canvas = document.createElement( 'canvas' );\n    this.canvas.width = this.size;\n    this.canvas.height = this.size;\n\n  }\n\n\n  getCircleMaterial (size = 128) {\n\n    this.createCanvas(size);\n    this.context = this.canvas.getContext( '2d' );\n\n    this.context.beginPath();\n    this.context.arc(this.canvas.width, this.canvas.height, size/2, 0, 2 * Math.PI);\n    this.context.stroke();\n\n    return this.canvas;\n\n  }\n\n\n  updateCircleTexture (time, color = '#00ce00', glowColor = '#ffffff') {\n\n    let radius = Math.abs( this.size/2 * Math.sin(time.elapsedTime));\n\n    this.clearCanvas();\n\n    this.drawRadialGradient();\n\n    this.drawCircle(radius, 4, '#00ce00', 2, '#fff');\n    //this.drawCircle(radius/2, 8, '#00ce00');\n    //this.drawCircle(radius/6, 6, '#00ce00');\n\n  }\n\n\n  clearCanvas (clearColor = 'black') {\n\n    this.context.fillStyle = clearColor;\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n  }\n\n\n  drawCircle ( radius = 10, lineWidth = 10, stroke = '#00ce00', shadowRadius, shadowColor) {\n\n    this.context.beginPath();\n\n    if (shadowRadius && shadowColor) {\n      this.context.shadowBlur = shadowRadius;\n      this.context.shadowColor = shadowColor;\n    }\n\n    this.context.lineWidth = lineWidth;\n    this.context.strokeStyle = stroke;\n    this.context.arc(this.canvas.width/2, this.canvas.width/2, radius, 0, 2 * Math.PI);\n    this.context.stroke();\n\n  }\n\n\n  drawRadialGradient() {\n\n    var gradient = this.context.createRadialGradient(\n\t\t\tthis.canvas.width / 2,\n\t\t\tthis.canvas.height / 2,\n\t\t\t0,\n\t\t\tthis.canvas.width / 2,\n\t\t\tthis.canvas.height / 2,\n\t\t\tthis.canvas.width / 2\n\t\t);\n\n\t\tgradient.addColorStop( 0.0, 'rgba(50, 200, 50, 1.0)');\n\t\tgradient.addColorStop( 0.85, 'rgba(25, 255, 25, 0.35)' );\n\t\tgradient.addColorStop( 1.0, 'rgba(0, 50, 0, 0.0)' );\n\n\t\tthis.context.fillStyle = gradient;\n\t\tthis.context.fillRect( 0, 0, this.canvas.width, this.canvas.height );\n\n  }\n\n\n  getStarMaterial ( showShininess ) {\n\n\t\t// create the star texture\n\t\tvar canvas = document.createElement( 'canvas' );\n\t\t\t\tcanvas.width = 512;\n\t\t\t\tcanvas.height = 512;\n\n\t\t//var col = new THREE.Color(color);\n\t\tvar context = canvas.getContext( '2d' );\n\n\t\tvar gradient = context.createRadialGradient(\n\t\t\tcanvas.width / 2,\n\t\t\tcanvas.height / 2,\n\t\t\t0,\n\t\t\tcanvas.width / 2,\n\t\t\tcanvas.height / 2,\n\t\t\tcanvas.width / 2\n\t\t);\n\n\t\tgradient.addColorStop( 0, 'rgba(255, 255, 255, 1.0)');\n\t\tgradient.addColorStop( 0.05, 'rgba(205, 205, 224, 1.0)');\n\t\tgradient.addColorStop( 0.1, 'rgba(125, 100, 0, 0.35)' );\n\t\tgradient.addColorStop( 1.0, 'rgba(0,0,0,0.0)' );\n\n\t\tcontext.fillStyle = gradient;\n\t\tcontext.fillRect( 0, 0, canvas.width, canvas.height );\n\n\t\tif ( showShininess ) {\n\t\t\tcontext.beginPath();\n\t\t\tcontext.lineWidth = 2;\n\n\t\t\t// top - bottom\n      context.moveTo(canvas.width/2, 0);\n      context.lineTo(canvas.width/2, canvas.height);\n\n      // left - right\n      context.moveTo(0, canvas.height/2);\n      context.lineTo(canvas.width, canvas.height/2);\n\n      // set line color\n      context.strokeStyle = 'rgba(255,255,255,0.75)';\n      context.stroke();\n\t\t}\n\n\t\tvar texture = new THREE.Texture(canvas);\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\t}\n\n\n}\n","\n//import TemplateLevelStart from './dialog/level_start';\n//import TemplateLevelCompleted from './dialog/level_completed';\n\nexport default function template(data) {\n\n  console.log('rendering template with data', data);\n\n  return $(`\n\n    <div class=\"dialog\">\n\n      <div class=\"dialog-title\">${data.title}</div>\n\n      <div class=\"dialog-content\">${data.content}</div>\n\n    </div>\n\n  `);\n\n}\n","export default function template(data) {\n\n  console.log('rendering template with data', data);\n\n  return $(`\n    <div>\n\n      <h1>Level Solved</h1>\n\n      <p>\n        moves: ${data.moves} <br>\n        pushes: ${data.pushes} <br>\n        time: ${data.time}\n      </p>\n\n      <p>\n\n        <button\n          id=\"button-replay-level\"\n          class=\"button button-large button-game\"\n          data-handler=\"interactive\"\n          data-event=\"click\"\n          data-action=\"reload\"\n          title=\"Reload this level\">\n\n          <span class=\"fa fa-repeat\"></span>\n\n        </button>\n\n\n        <button\n          id=\"button-next-level\"\n          class=\"button button-large button-game\"\n          data-handler=\"interactive\"\n          data-event=\"click\"\n          data-action=\"loadNextLevel\"\n          title=\"Load next Level\">\n\n          <span class=\"fa fa-forward\"></span>\n\n        </button>\n\n      </p>\n\n    </div>\n  `);\n\n}\n","export default function template(data) {\n\n  console.log('rendering template with data', data);\n\n  return $(`\n    <div>\n\n      <p>The best result for this level was:</p>\n      <p>3:00 Min <br> 56 pushes <br> 143 moves </p>\n      <h3>Can you beat it?</h3>\n      <p>\n\n        <button\n          class=\"button button-large button-game\"\n          data-handler=\"interactive\"\n          data-event=\"click\"\n          data-action=\"start\"\n          data-scope=\"level\"\n          id=\"btn-start-game\">\n\n          Start Game\n\n        </button>\n\n      </p>\n\n    </div>\n  `);\n\n}\n","import View from '../app/view';\n\nexport default class Button extends View {\n\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.app = options.app;\n    this.name = options.name;\n    this.text = options.text;\n\n    this.object = options.object;\n    this.action = options.action;\n\n    this.isActive = false;\n\n    this.$template = $(`<button class=\"button button-round button-control button-inactive\">${this.text}</button>`);\n\n  }\n\n\n  render ($element = $('body')) {\n\n    $element.append( this.$template );\n    this.initEvents();\n\n  }\n\n\n  initEvents () {\n\n    this.$template.on('click', (e) => {\n\n      if (!this.isActive) return;\n\n      let $btn = $(e.currentTarget);\n      this.app.level[this.object][this.action]();\n\n    });\n\n  }\n\n\n  remove () {\n\n    this.$template.remove();\n\n  }\n\n\n  activate() {\n\n    this.isActive = true;\n    this.$template.addClass('button-animated');\n\n  }\n\n\n  deactivate() {\n\n    this.isActive = false;\n    this.$template.removeClass('button-animated');\n\n  }\n\n}\n","import View from '../app/view';\n\n// base template\nimport DialogTemplate from '../templates/dialog';\n\n// nested templates\nimport TemplateLevelStart from '../templates/dialog/level_start';\nimport TemplateLevelCompleted from '../templates/dialog/level_completed';\n\n\nexport default class Dialog extends View {\n\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.classes = {\n      TemplateLevelStart,\n      TemplateLevelCompleted\n    }\n\n    this.app = options.app;\n    this.data = options.data;\n\n    this.className = '.dialog';\n\n    this.prepareTemplate();\n    this.render();\n    this.initEvents();\n\n  }\n\n\n  prepareTemplate () {\n\n    // render main template with nested template\n    if (this.data.template) {\n\n      let nestedTemplate = new this.classes[this.data.template](this.data);\n      this.data.content = nestedTemplate.html();\n\n    }\n\n    this.$template = new DialogTemplate(this.data);\n\n  }\n\n\n  render () {\n\n    $('body').find(this.className).remove();\n    $('body').append(this.$template);\n\n    this.resizeToContent();\n\n  }\n\n\n  initEvents () {\n\n\n    this.$template.find('[data-handler]').each((i, item) => {\n\n      $(item).on( $(item).data('event') , (e) => {\n\n        e.preventDefault();\n\n        let $btn = $(e.currentTarget);\n        let action = $btn.data('action');\n\n        this.app[action]();\n        this.close();\n\n      });\n\n    });\n\n\n    /*\n    this.$template.find('.button-round').on('click', (e) => {\n\n      let $btn = $(e.currentTarget);\n      let resolution = $btn.data('resolution');\n\n      this.$template.find('.button-round').not(this).removeClass('active');\n      $btn.toggleClass('active');\n\n      this.action.scope.setResolution(resolution);\n\n      this.$template.find('.action-btn').removeClass('hidden');\n\n    });\n    */\n\n    /*\n    this.$template.find('.action-btn').on('click', (e) => {\n\n      this.close();\n      this.action.scope[this.action.function]();\n\n    });\n    */\n\n    /*\n    this.actions.forEach( (action) => {\n\n      $(action.id).on('click', (e) => {\n        e.preventDefault();\n\n        this.app[action.action]();\n        this.close();\n\n      });\n\n    });\n    */\n\n  }\n\n\n  resizeToContent() {\n\n    let contentWidth = this.$template.outerWidth();\n    let contentHeight = this.$template.outerHeight();\n\n    this.$template.css({\n      left: $(window).width() / 2 - (contentWidth/2),\n      top: $(window).height() / 2 - (contentHeight/2)\n    });\n\n  }\n\n\n  close () {\n\n    this.$template.remove();\n\n  }\n\n}\n","import View from '../app/view';\n\nimport Datetime from '../helpers/datetime';\n\nexport default class Interface extends View {\n\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.app = options.app;\n    this.datetime = new Datetime();\n\n    this.$template = $(`\n      <div id=\"interface\">\n\n        <div class=\"level\">\n          <span class=\"level-name\"></span>\n          <span class=\"level-difficulty\"></span>\n        </div>\n\n        <div class=\"time\">\n          <span class=\"icon\">Time: </span>\n          <span class=\"time-seconds\">00:00</span>\n        </div>\n\n        <div class=\"moves\">\n          <span class=\"icon\">Moves: </span>\n          <span class=\"number-moves\">0</span>\n        </div>\n\n        <div class=\"pushes\">\n          <span class=\"icon\">Pushes: </span>\n          <span class=\"number-pushes\">0</span>\n        </div>\n\n        <div class=\"icons\" title=\"How to play\">\n          <span class=\"icon icon-help\" data-action=\"openLightbox\">i</span>\n          <span class=\"icon icon-fullscreen\">fs</span>\n          <span class=\"icon icon-solver\" id=\"solver\">S</span>\n        </div>\n\n      </div>\n\n      <div id=\"items\">\n        <!--\n        <div class=\"item\">\n          <span class=\"icon\">Hammer: </span>\n          <span class=\"hammers-number\">0</span>\n        </div>\n        -->\n      </div>\n\n      <div id=\"buttons\"></div>\n\n      <div id=\"controls\">\n        <div class=\"button button-round button-control button-up\">up</div>\n        <div class=\"button button-round button-control button-left\">left</div>\n        <div class=\"button button-round button-control button-down\">down</div>\n        <div class=\"button button-round button-control button-right\">right</div>\n      </div>\n\n    `);\n\n  }\n\n\n  render () {\n\n    $('body').append( this.$template );\n\n    this.initEvents();\n\n  }\n\n\n  initEvents () {\n\n    this.$template.find('.button-up').on('click', (e) => {\n      this.app.level.character.move('up');\n    });\n\n    this.$template.find('.button-left').on('click', (e) => {\n      this.app.level.character.move('left');\n    });\n\n    this.$template.find('.button-down').on('click', (e) => {\n      this.app.level.character.move('down');\n    });\n\n    this.$template.find('.button-right').on('click', (e) => {\n      this.app.level.character.move('right');\n    });\n\n\n    this.$template.find('.icon-fullscreen').on('click', (e) => {\n\n      if (THREEx.FullScreen.available()) {\n\n        THREEx.FullScreen.activated() ? THREEx.FullScreen.cancel() : THREEx.FullScreen.request();\n\n      }\n\n    });\n\n\n\n\n  }\n\n\n  setLevelName (level) {\n\n    this.$template.find('.level-name').text( level.world + '@' + level.name);\n\n    if (level.difficulty) {\n      this.$template.find('.level-difficulty').text('('+ level.difficulty +' level)');\n    }\n\n  }\n\n\n  setMoves (moves) {\n\n    this.$template.find('.number-moves').text(moves);\n\n  }\n\n\n  setPushes (pushes) {\n\n    this.$template.find('.number-pushes').text(pushes);\n\n  }\n\n\n  updateTime ( time ) {\n\n    this.datetime.setTime(time);\n    this.$template.find('.time .time-seconds').text( this.datetime.getMinutesWithSeconds() );\n\n  }\n\n\n  remove () {\n\n    this.$template.remove();\n\n  }\n\n}\n","import View from '../app/view';\n\nexport default class Label extends View {\n\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.app = options.app;\n    this.data = options.data;\n    this.planetsystem = options.planetsystem;\n\n    this.planetsystemName = this.planetsystem.name.toLowerCase().replace(' ', '-');\n    this.planetName = this.data.name.toLowerCase().replace(' ', '-');\n\n    this.$template = $(`\n      <span class=\"label label-${this.planetsystemName} label-${this.planetName}\">\n        <span class=\"label-marker\"></span>\n        ${this.data.name}\n      </span>\n    `);\n\n    this.render();\n    this.initEvents();\n\n  }\n\n\n  render () {\n\n    this.$template.css({'color': '#' + this.utils.orbitColors[ this.app.systems.length ].toString(16) });\n\n    $('#labels').append( this.$template );\n\n  }\n\n\n  initEvents () {\n\n\n    this.$template.on('click', (e) => {\n\n      let $btn = $(e.currentTarget);\n\n      console.log('load planet data');\n\n    });\n\n\n    this.$template.on('mouseover', (e) => {\n\n      console.log('planet mouseover');\n\n    });\n\n    this.$template.on('mouseout', (e) => {\n\n      console.log('planet mouseout');\n\n    });\n\n  }\n\n\n  remove () {\n\n    this.$template.remove();\n\n  }\n\n\n  updatePosition (object) {\n\n    //let pos = window.utils.getPosition2D( mesh.parent.parent, self.camera, self.projector);\n    let pos = this.utils.toScreenPosition( object, this.app.camera );\n\n    this.$template.css({\n      'left': pos.x + 'px',\n      'top': pos.y + 'px'\n    });\n\n  }\n\n}\n","import Utils from '../app/utils';\n\nexport default class Template {\n\n\tconstructor ( options = {} ) {\n\n\t\tthis.utils = new Utils();\n\t\tthis.templates = [];\n\n\t\tthis.data = options.data;\n\t\tthis.template = options.template;\n\n\t\tthis.templates['tooltipStarTemplate'] = $(`\n\n\t\t\t<div class=\"headline\">${this.data.pl_hostname}</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Type</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.type}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Distance (Parsec)</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.dist}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Distance (Light Years)</span></div>\n\t\t\t  <div class=\"value\"><span>${ (this.data.dist * this.utils.PC).toFixed(2) }</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Mass (Sun Masses)</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.mass}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Radius (Sun Radii)</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.radius}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Planets</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.pl_num}</span></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"property\">\n\t\t\t  <div class=\"label\"><span>Habitable Planets</span></div>\n\t\t\t  <div class=\"value\"><span>${this.data.habitable}</span></div>\n\t\t\t</div>\n\n\t\t`);\n\n\t}\n\n\n\trender () {\n\n\t\treturn this.templates[this.template];\n\n\t}\n\n}\n","import View from '../app/view';\n\nimport Template from './template';\n\nexport default class Tooltip extends View {\n\n  constructor ( options = {} ) {\n\n    super();\n\n    this.template = options.template ? options.template : 'default';\n    this.$template = $('<div id=\"tooltip\"></div>');\n    this.render();\n  }\n\n\n  render () {\n\n    if (this.template)\n      console.log(this.template);\n\n    $('body').append(this.$template);\n\n  }\n\n\n  setData (data) {\n\n    let template = new Template({\n      template: 'tooltipStarTemplate',\n      data: data\n    });\n\n    this.$template.html( template.render() );\n\n  }\n\n\n  updatePosition (pos) {\n\n    this.$template.css({\n      left: pos.x + 18,\n      top: pos.y\n    });\n\n  }\n\n\n  remove (){\n\n    this.$template.remove();\n\n  }\n\n  show () {\n\n    this.$template.show();\n\n  }\n\n  hide () {\n\n    this.$template.hide();\n\n  }\n\n\n}\n"]}