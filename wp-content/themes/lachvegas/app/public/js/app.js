!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},i={},a={}.hasOwnProperty,o=/^\.\.?(\/|$)/,r=function(e,t){for(var n,i=[],a=(o.test(t)?e+"/"+t:t).split("/"),r=0,s=a.length;r<s;r++)n=a[r],".."===n?i.pop():"."!==n&&""!==n&&i.push(n);return i.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},l=function(t){return function(n){var i=r(s(t),n);return e.require(i,t)}},u=function(e,t){var i=m&&m.createHot(e),a={id:e,exports:{},hot:i};return n[e]=a,t(a.exports,l(e),a),a.exports},c=function(e){return i[e]?c(i[e]):e},f=function(e,t){return c(r(s(e),t))},d=function(e,i){null==i&&(i="/");var o=c(e);if(a.call(n,o))return n[o].exports;if(a.call(t,o))return u(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+i+"'")};d.alias=function(e,t){i[t]=e};var p=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,v=function(e){if(p.test(e)){var t=e.replace(p,"");a.call(i,t)&&i[t].replace(p,"")!==t+"/index"||(i[t]=e)}if(h.test(e)){var n=e.replace(h,"");a.call(i,n)||(i[n]=e)}};d.register=d.define=function(e,i){if(e&&"object"==typeof e)for(var o in e)a.call(e,o)&&d.register(o,e[o]);else t[e]=i,delete n[e],v(e)},d.list=function(){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e};var m=e._hmr&&new e._hmr(f,d,t,n);d._cache=n,d.hmr=m&&m.wrap,d.brunch=!0,e.require=d}}(),function(){var t;"undefined"==typeof window?this:window;require.register("src/js/app.js",function(t,n,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n("jquery"),l=a(s),u=n("./components"),c=a(u),f=function(){function t(){o(this,t),this._components=c["default"]}return r(t,[{key:"init",value:function(){this.getNodes(),this.setupTheme(),this.setupModalTriggers()}},{key:"getNodes",value:function(){var e=this;(0,l["default"])("[data-component]").each(function(t,n){var i=(0,l["default"])(n).data("component");if(void 0!==e._components[i])try{new e._components[i]({app:e,node:n})}catch(a){console.warn("component "+i+" could not be called",a)}else console.warn('component "'+i+'" does not have implementation ')})}},{key:"setupTheme",value:function(){(0,l["default"])(".search-label").on("click",function(){(0,l["default"])(".search-area").toggleClass("is-expanded")})}},{key:"setupModalTriggers",value:function(){setTimeout(function(){var t=(0,l["default"])("#modal-1");t.addClass("modal-show"),t.find("[data-modal-close]").off("click").on("click",function(e){e.preventDefault(),t.removeClass("modal-show")}),(0,l["default"])(".modal-overlay").on("click",function(){e.preventDefault(),t.removeClass("modal-show")})},2e3),(0,l["default"])("[data-modal]").each(function(e,t){var n=(0,l["default"])(t).data("modal"),i=(0,l["default"])("#"+n);(0,l["default"])(t).on("click",function(e){i=(0,l["default"])("#"+(0,l["default"])(e.currentTarget).data("modal")),i.addClass("modal-show"),i.find("[data-modal-close]").off("click").on("click",function(e){e.preventDefault(),i.removeClass("modal-show")}),(0,l["default"])(".modal-overlay").on("click",function(){e.preventDefault(),i.removeClass("modal-show")})})})}}]),t}();t["default"]=f,window.App=new f,window.App.init()}),require.register("src/js/app/log.js",function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(e.__useDefault=!0,function(){function e(){i(this,e)}return o(e,[{key:"init",value:function(){}},{key:"info",value:function(e){this.print(e,"info")}},{key:"error",value:function(e){this.print(e,"error")}},{key:"print",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"object"===("undefined"==typeof console?"undefined":a(console))&&window.console.log&&console.log(e)}}]),e}());e["default"]=r}),require.register("src/js/app/model.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("./log"),s=i(r),l=t("./utils"),u=i(l),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.app=t.app,this.log=new s["default"],this.utils=new u["default"]}return o(e,[{key:"save",value:function(){console.log("saving data",this.data),this.loadAsync(this.url,this.data)}},{key:"loadAsync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this;$.ajax({url:e,data:t,dataType:"json",type:n,success:function(e){e&&(console.log(e),"function"==typeof i&&i.call(a,e))}})}}]),e}();e["default"]=c}),require.register("src/js/app/utils.js",function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(e.__useDefault=!0,function(){function e(){i(this,e)}return a(e,[{key:"getParam",value:function(e){if(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(location.search))return decodeURIComponent(e[1])}},{key:"isIframe",value:function(){return!(parent.location==self.location)}},{key:"url",value:function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(appConfig.root){var t=appConfig.root+e;return n?t+"?time="+Math.random():t}}},{key:"isWebGLSupported",value:function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}},{key:"debug",value:function(e){window.isDevelopmentMode&&console.log(e)}},{key:"loadAsynch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$.ajax({url:e,dataType:"json",data:t,method:"post",success:function(e){console.log(e),n&&n()}})}}]),e}());e["default"]=o}),require.register("src/js/app/view.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.__useDefault=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("./utils"),s=i(r),l=t("../views/template"),u=(i(l),e.__useDefault=!0,function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.options=t,this.app=t.app,this.utils=new s["default"],this.name="",this.$view=""}return o(e,[{key:"setData",value:function(){}},{key:"render",value:function(){return this.$el=this.$view,this.$el}},{key:"getHtml",value:function(){return this.$el.html()}},{key:"appendTo",value:function(e){}}]),e}());e["default"]=u}),require.register("src/js/components/calendar.js",function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,o),console.log(e)};e["default"]=a}),require.register("src/js/components/index.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var a=t("./calendar"),o=i(a),r=t("./menu"),s=i(r),l=t("./modal"),u=i(l),c=t("./ticker"),f=i(c),d=t("./quiz"),p=i(d);e["default"]={Calendar:o["default"],Ticker:f["default"],Menu:s["default"],Modal:u["default"],Quiz:p["default"]}}),require.register("src/js/components/menu.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("jquery"),s=i(r),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.node=(0,s["default"])(t.node),this.init()}return o(e,[{key:"init",value:function(){var e=this;this.node.find(".menu-icon").on("click",function(t){t.preventDefault(),e.node.find(".menu").slideToggle("fast")})}}]),e}();e["default"]=l}),require.register("src/js/components/modal.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("jquery"),s=i(r),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.node=(0,s["default"])(t.node),this.init()}return o(e,[{key:"init",value:function(){var e=this;this.overlay=document.querySelector(".modal-overlay"),this.node.find(".modal__close").on("click",function(){e.node.removeClass("modal-show")}),this.node.on("click",function(){})}}]),e}();e["default"]=l}),require.register("src/js/components/quiz.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("jquery"),s=i(r),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.node=(0,s["default"])(t.node),this.data=this.node.data("param"),this.url=this.node.data("url"),this.$currentButtonTarget=null,this.user={answers:[]},this.answerTexts={right:["Richtig! ","Genau! ","Richtige Antwort. "],wrong:["Falsch! "]},this.init()}return o(e,[{key:"init",value:function(){var e=this;this.node.find("[data-button]").on("click",function(t){t.preventDefault();var n=(0,s["default"])(t.currentTarget),i=n.data("value");e.$currentButtonTarget=n,e.deactivateQuestion(n.closest("[data-question-id]")),e.save({quiz_id:e.data.id,question_id:n.closest("[data-question-id]").data("question-id"),question_result:n.closest("[data-question-result]").data("question-result"),answer_id:n.data("answer-id"),answer_value:i})})}},{key:"save",value:function(e){var t=this,n=Object.assign({},{action:"add_quiz_result"},e);s["default"].ajax({url:this.url,dataType:"json",data:n,type:"POST",success:function(n){if(n.status){var i=t.$currentButtonTarget.closest("[data-question-id]").find("[data-answer-text]").show();n.answer_correct?(i.find("[data-answer-pretext]").addClass("state-is-true").html('<i class="fa fa-check-circle"></i>'),i.find("[data-answer-right-wrong]").html(t.answerTexts.right[0])):(i.find("[data-answer-pretext]").addClass("state-is-false").html('<i class="fa fa-times-circle"></i>'),i.find("[data-answer-right-wrong]").html(t.answerTexts.wrong[0])),t.user.answers.push({question_id:e.question_id,answer_correct:n.answer_correct}),i.css("display","flex"),t.deactivateQuestion(),t.checkSummary()}}})}},{key:"deactivateQuestion",value:function(e){(0,s["default"])(e).find("[data-button]").attr("disabled","disabled")}},{key:"checkSummary",value:function(){this.user.answers.length===this.data.questions.length?(console.log("show results"),(0,s["default"])("[data-summary-text]").html(this.getSummaryText({correct_answers:this.user.answers.filter(function(e){return e.answer_correct===!0}).length,questions:this.data.questions.length}))):console.log("dont show results yet")}},{key:"getSummaryText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"Du hast "+e.correct_answers+" von "+e.questions+" richtig beantwortet."}}]),e}();e["default"]=l}),require.register("src/js/components/ticker.js",function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,o),console.log(e)};e["default"]=a}),require.register("src/js/helpers/clickHelper.js",function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.app=t.app,this.mouse=new THREE.Vector2,this.points=[],this.mesh=null,this.helperPlane=t.plane||null,this.connectPoints=!0,this.helperPlane||this.renderHelperPlane(),this.initClickEvents()}return a(e,[{key:"initClickEvents",value:function(){var e=this;document.addEventListener("mousedown",function(t){return e.onDocumentMouseDown(t)},!1)}},{key:"renderHelperPlane",value:function(){this.groundFloor=new THREE.PlaneGeometry(1e4,1e4,1),this.helperPlane=new THREE.Mesh(this.groundFloor,new THREE.MeshLambertMaterial({color:65280})),this.helperPlane.rotation.x=-Math.PI/2,this.app.scene.add(this.helperPlane)}},{key:"get3dPointZAxis",value:function(e){var t=new THREE.Vector3(e.clientX/window.innerWidth*2-1,2*-(e.clientY/window.innerHeight)+1,.5);t.unproject(this.app.camera);var n=t.sub(this.app.camera.position).normalize(),i=-this.app.camera.position.z/n.z,a=this.app.camera.position.clone().add(n.multiplyScalar(i));return a}},{key:"renderPoints",value:function(){if(this.points){this.app.scene.remove(this.mesh);var e=new THREE.Shape(this.points);e.autoClose=!0;var t=e.createPointsGeometry();e.createSpacedPointsGeometry(50);this.mesh=new THREE.Line(t,new THREE.LineBasicMaterial({color:13500416,linewidth:3})),this.mesh.rotation.x=Math.PI/2,this.mesh.scale.set(1,1,1),this.app.scene.add(this.mesh);var n=JSON.stringify(this.points);console.log(n)}}},{key:"onDocumentMouseDown",value:function(e){if(e.preventDefault(),this.updateMousePosition(e),console.log("clickHelper clicked at",this.mouse),this.connectPoints){var t=this.get3dPointZAxis(e);console.log(t),this.points.push(new THREE.Vector3(t.x,(-t.y),0)),this.renderPoints()}var n=this.app.raycaster.intersectObject(this.helperPlane);n.length&&n[0].object&&console.log("intersecting plane",n)}},{key:"updateMousePosition",value:function(e){this.mouse.x=e.clientX/$("#webgl-scene").width()*2-1,this.mouse.y=2*-(e.clientY/$("#webgl-scene").height())+1}}]),e}();e["default"]=o}),require.register("src/js/helpers/datetime.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("../app/log"),s=(i(r),t("../app/utils")),l=(i(s),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.time=t.time}return o(e,[{key:"setTime",value:function(e){this.time=e}},{key:"getMinutesWithSeconds",value:function(){var e=Math.floor(this.time/60),t=(this.time-60*e).toFixed(0);return e<10&&(e="0"+e),t<10&&(t="0"+t),e+":"+t}}]),e}());e["default"]=l}),require.register("src/js/helpers/geometry.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("../app/log"),s=(i(r),t("../app/utils")),l=i(s),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.options=t,this.utils=new l["default"]}return o(e,[{key:"renderDashedCircle",value:function(e,t){void 0==t&&(t=new THREE.Color("rgba(255, 255, 255, 0.75)"));for(var n=new THREE.Geometry,i=n.vertices,a=128,o=2*Math.PI/a,r=0;r<=a;r++){var s=e*Math.cos(o*r),l=e*Math.sin(o*r);i.push(new THREE.Vector3(s,l,0))}var u=new THREE.LineDashedMaterial({color:65280,transparent:!0,opacity:.1,dashSize:this.utils.AU/1e3,gapSize:this.utils.AU/1e3});n.computeLineDistances();var c=new THREE.Line(n,u,THREE.LinePieces);return c.position.set(0,0,0),c.rotation.set(-90*Math.PI/180,0,0),c}}]),e}();e["default"]=u}),require.register("src/js/helpers/particle.js",function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function o(e){i(this,o),this.position=e.vector,this.size=256,this.properties={}};e["default"]=a}),require.register("src/js/helpers/text.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("../app/log"),s=(i(r),t("../app/utils")),l=i(s),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.options=t,this.utils=new l["default"],this.app=t.app,this.text=t.text,this.color=t.color||36864,this.position=t.position,this.font="./fonts/optimer_bold.typeface.json",this.isCenter=t.isCenter||!0,this.material=new THREE.MeshPhongMaterial({color:this.color,shininess:100}),this.mesh}return o(e,[{key:"render",value:function(){var e=this;this.loader=new THREE.FontLoader,this.loader.load(this.font,function(t){e.geometry=new THREE.TextGeometry(e.text,{font:t,size:.7,height:.01,curveSegments:20,weight:"light",bevelThickness:.03,bevelSize:.01,bevelEnabled:!0}),e.mesh=new THREE.Mesh(e.geometry,e.material),e.isCenter&&e.center(),e.mesh.castShadow=!0,e.options.group&&e.options.group.add(e.mesh)})}},{key:"center",value:function(){this.geometry.computeBoundingBox();var e=this.geometry.boundingBox.max.x-this.geometry.boundingBox.min.x;this.mesh.position.set(-.5*e,.1,0)}},{key:"getMesh",value:function(){return this.mesh}}]),e}();e["default"]=u}),require.register("src/js/helpers/textures.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("../app/log"),s=(i(r),t("../app/utils")),l=i(s),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.options=t,this.utils=new l["default"],this.canvas=null,this.context=null,this.size=512}return o(e,[{key:"createCanvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.size=e,this.canvas=document.createElement("canvas"),this.canvas.width=this.size,this.canvas.height=this.size}},{key:"getCircleMaterial",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;return this.createCanvas(e),this.context=this.canvas.getContext("2d"),this.context.beginPath(),this.context.arc(this.canvas.width,this.canvas.height,e/2,0,2*Math.PI),this.context.stroke(),this.canvas}},{key:"updateCircleTexture",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#00ce00",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ffffff",Math.abs(this.size/2*Math.sin(e.elapsedTime)));this.clearCanvas(),this.drawRadialGradient(),this.drawCircle(t,4,"#00ce00",2,"#fff")}},{key:"clearCanvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"black";this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawCircle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#00ce00",i=arguments[3],a=arguments[4];this.context.beginPath(),i&&a&&(this.context.shadowBlur=i,this.context.shadowColor=a),this.context.lineWidth=t,this.context.strokeStyle=n,this.context.arc(this.canvas.width/2,this.canvas.width/2,e,0,2*Math.PI),this.context.stroke()}},{key:"drawRadialGradient",value:function(){var e=this.context.createRadialGradient(this.canvas.width/2,this.canvas.height/2,0,this.canvas.width/2,this.canvas.height/2,this.canvas.width/2);e.addColorStop(0,"rgba(50, 200, 50, 1.0)"),e.addColorStop(.85,"rgba(25, 255, 25, 0.35)"),e.addColorStop(1,"rgba(0, 50, 0, 0.0)"),this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:"getStarMaterial",value:function(e){var t=document.createElement("canvas");t.width=512,t.height=512;var n=t.getContext("2d"),i=n.createRadialGradient(t.width/2,t.height/2,0,t.width/2,t.height/2,t.width/2);i.addColorStop(0,"rgba(255, 255, 255, 1.0)"),i.addColorStop(.05,"rgba(205, 205, 224, 1.0)"),i.addColorStop(.1,"rgba(125, 100, 0, 0.35)"),i.addColorStop(1,"rgba(0,0,0,0.0)"),n.fillStyle=i,n.fillRect(0,0,t.width,t.height),e&&(n.beginPath(),n.lineWidth=2,n.moveTo(t.width/2,0),n.lineTo(t.width/2,t.height),n.moveTo(0,t.height/2),n.lineTo(t.width,t.height/2),n.strokeStyle="rgba(255,255,255,0.75)",n.stroke());var a=new THREE.Texture(t);return a.needsUpdate=!0,a}}]),e}();e["default"]=u}),require.register("src/js/templates/dialog.js",function(e,t,n){"use strict";function i(e){return console.log("rendering template with data",e),$('\n\n    <div class="dialog">\n\n      <div class="dialog-title">'+e.title+'</div>\n\n      <div class="dialog-content">'+e.content+"</div>\n\n    </div>\n\n  ")}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i}),require.register("src/js/templates/dialog/level_completed.js",function(e,t,n){"use strict";function i(e){return console.log("rendering template with data",e),$("\n    <div>\n\n      <h1>Level Solved</h1>\n\n      <p>\n        moves: "+e.moves+" <br>\n        pushes: "+e.pushes+" <br>\n        time: "+e.time+'\n      </p>\n\n      <p>\n\n        <button\n          id="button-replay-level"\n          class="button button-large button-game"\n          data-handler="interactive"\n          data-event="click"\n          data-action="reload"\n          title="Reload this level">\n\n          <span class="fa fa-repeat"></span>\n\n        </button>\n\n\n        <button\n          id="button-next-level"\n          class="button button-large button-game"\n          data-handler="interactive"\n          data-event="click"\n          data-action="loadNextLevel"\n          title="Load next Level">\n\n          <span class="fa fa-forward"></span>\n\n        </button>\n\n      </p>\n\n    </div>\n  ')}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i}),require.register("src/js/templates/dialog/level_start.js",function(e,t,n){"use strict";function i(e){return console.log("rendering template with data",e),$('\n    <div>\n\n      <p>The best result for this level was:</p>\n      <p>3:00 Min <br> 56 pushes <br> 143 moves </p>\n      <h3>Can you beat it?</h3>\n      <p>\n\n        <button\n          class="button button-large button-game"\n          data-handler="interactive"\n          data-event="click"\n          data-action="start"\n          data-scope="level"\n          id="btn-start-game">\n\n          Start Game\n\n        </button>\n\n      </p>\n\n    </div>\n  ')}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i}),require.register("src/js/views/button.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=t("../app/view"),u=i(l),c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.app=e.app,n.name=e.name,n.text=e.text,n.object=e.object,n.action=e.action,n.isActive=!1,n.$template=$('<button class="button button-round button-control button-inactive">'+n.text+"</button>"),n}return r(t,e),s(t,[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("body");e.append(this.$template),this.initEvents()}},{key:"initEvents",value:function(){var e=this;this.$template.on("click",function(t){if(e.isActive){$(t.currentTarget);e.app.level[e.object][e.action]()}})}},{key:"remove",value:function(){this.$template.remove()}},{key:"activate",value:function(){this.isActive=!0,this.$template.addClass("button-animated")}},{key:"deactivate",value:function(){this.isActive=!1,this.$template.removeClass("button-animated")}}]),t}(u["default"]);e["default"]=c}),require.register("src/js/views/dialog.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=t("../app/view"),u=i(l),c=t("../templates/dialog"),f=i(c),d=t("../templates/dialog/level_start"),p=i(d),h=t("../templates/dialog/level_completed"),v=i(h),m=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.classes={TemplateLevelStart:p["default"],TemplateLevelCompleted:v["default"]},n.app=e.app,n.data=e.data,n.className=".dialog",n.prepareTemplate(),n.render(),n.initEvents(),n}return r(t,e),s(t,[{key:"prepareTemplate",value:function(){if(this.data.template){var e=new this.classes[this.data.template](this.data);this.data.content=e.html()}this.$template=new f["default"](this.data)}},{key:"render",value:function(){$("body").find(this.className).remove(),$("body").append(this.$template),this.resizeToContent()}},{key:"initEvents",value:function(){var e=this;this.$template.find("[data-handler]").each(function(t,n){$(n).on($(n).data("event"),function(t){t.preventDefault();var n=$(t.currentTarget),i=n.data("action");e.app[i](),e.close()})})}},{key:"resizeToContent",value:function(){var e=this.$template.outerWidth(),t=this.$template.outerHeight();this.$template.css({left:$(window).width()/2-e/2,top:$(window).height()/2-t/2})}},{key:"close",value:function(){this.$template.remove()}}]),t}(u["default"]);e["default"]=m}),require.register("src/js/views/interface.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=t("../app/view"),u=i(l),c=t("../helpers/datetime"),f=i(c),d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.app=e.app,n.datetime=new f["default"],n.$template=$('\n      <div id="interface">\n\n        <div class="level">\n          <span class="level-name"></span>\n          <span class="level-difficulty"></span>\n        </div>\n\n        <div class="time">\n          <span class="icon">Time: </span>\n          <span class="time-seconds">00:00</span>\n        </div>\n\n        <div class="moves">\n          <span class="icon">Moves: </span>\n          <span class="number-moves">0</span>\n        </div>\n\n        <div class="pushes">\n          <span class="icon">Pushes: </span>\n          <span class="number-pushes">0</span>\n        </div>\n\n        <div class="icons" title="How to play">\n          <span class="icon icon-help" data-action="openLightbox">i</span>\n          <span class="icon icon-fullscreen">fs</span>\n          <span class="icon icon-solver" id="solver">S</span>\n        </div>\n\n      </div>\n\n      <div id="items">\n        <!--\n        <div class="item">\n          <span class="icon">Hammer: </span>\n          <span class="hammers-number">0</span>\n        </div>\n        -->\n      </div>\n\n      <div id="buttons"></div>\n\n      <div id="controls">\n        <div class="button button-round button-control button-up">up</div>\n        <div class="button button-round button-control button-left">left</div>\n        <div class="button button-round button-control button-down">down</div>\n        <div class="button button-round button-control button-right">right</div>\n      </div>\n\n    '),
n}return r(t,e),s(t,[{key:"render",value:function(){$("body").append(this.$template),this.initEvents()}},{key:"initEvents",value:function(){var e=this;this.$template.find(".button-up").on("click",function(t){e.app.level.character.move("up")}),this.$template.find(".button-left").on("click",function(t){e.app.level.character.move("left")}),this.$template.find(".button-down").on("click",function(t){e.app.level.character.move("down")}),this.$template.find(".button-right").on("click",function(t){e.app.level.character.move("right")}),this.$template.find(".icon-fullscreen").on("click",function(e){THREEx.FullScreen.available()&&(THREEx.FullScreen.activated()?THREEx.FullScreen.cancel():THREEx.FullScreen.request())})}},{key:"setLevelName",value:function(e){this.$template.find(".level-name").text(e.world+"@"+e.name),e.difficulty&&this.$template.find(".level-difficulty").text("("+e.difficulty+" level)")}},{key:"setMoves",value:function(e){this.$template.find(".number-moves").text(e)}},{key:"setPushes",value:function(e){this.$template.find(".number-pushes").text(e)}},{key:"updateTime",value:function(e){this.datetime.setTime(e),this.$template.find(".time .time-seconds").text(this.datetime.getMinutesWithSeconds())}},{key:"remove",value:function(){this.$template.remove()}}]),t}(u["default"]);e["default"]=d}),require.register("src/js/views/label.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=t("../app/view"),u=i(l),c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.app=e.app,n.data=e.data,n.planetsystem=e.planetsystem,n.planetsystemName=n.planetsystem.name.toLowerCase().replace(" ","-"),n.planetName=n.data.name.toLowerCase().replace(" ","-"),n.$template=$('\n      <span class="label label-'+n.planetsystemName+" label-"+n.planetName+'">\n        <span class="label-marker"></span>\n        '+n.data.name+"\n      </span>\n    "),n.render(),n.initEvents(),n}return r(t,e),s(t,[{key:"render",value:function(){this.$template.css({color:"#"+this.utils.orbitColors[this.app.systems.length].toString(16)}),$("#labels").append(this.$template)}},{key:"initEvents",value:function(){this.$template.on("click",function(e){$(e.currentTarget);console.log("load planet data")}),this.$template.on("mouseover",function(e){console.log("planet mouseover")}),this.$template.on("mouseout",function(e){console.log("planet mouseout")})}},{key:"remove",value:function(){this.$template.remove()}},{key:"updatePosition",value:function(e){var t=this.utils.toScreenPosition(e,this.app.camera);this.$template.css({left:t.x+"px",top:t.y+"px"})}}]),t}(u["default"]);e["default"]=c}),require.register("src/js/views/template.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("../app/utils"),s=i(r),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.utils=new s["default"],this.templates=[],this.data=t.data,this.template=t.template,this.templates.tooltipStarTemplate=$('\n\n\t\t\t<div class="headline">'+this.data.pl_hostname+'</div>\n\n\t\t\t<div class="property">\n\t\t\t  <div class="label"><span>Type</span></div>\n\t\t\t  <div class="value"><span>'+this.data.type+'</span></div>\n\t\t\t</div>\n\n\t\t\t<div class="property">\n\t\t\t  <div class="label"><span>Distance (Parsec)</span></div>\n\t\t\t  <div class="value"><span>'+this.data.dist+'</span></div>\n\t\t\t</div>\n\n\t\t\t<div class="property">\n\t\t\t  <div class="label"><span>Distance (Light Years)</span></div>\n\t\t\t  <div class="value"><span>'+(this.data.dist*this.utils.PC).toFixed(2)+'</span></div>\n\t\t\t</div>\n\n\t\t\t<div class="property">\n\t\t\t  <div class="label"><span>Mass (Sun Masses)</span></div>\n\t\t\t  <div class="value"><span>'+this.data.mass+'</span></div>\n\t\t\t</div>\n\n\t\t\t<div class="property">\n\t\t\t  <div class="label"><span>Radius (Sun Radii)</span></div>\n\t\t\t  <div class="value"><span>'+this.data.radius+'</span></div>\n\t\t\t</div>\n\n\t\t\t<div class="property">\n\t\t\t  <div class="label"><span>Planets</span></div>\n\t\t\t  <div class="value"><span>'+this.data.pl_num+'</span></div>\n\t\t\t</div>\n\n\t\t\t<div class="property">\n\t\t\t  <div class="label"><span>Habitable Planets</span></div>\n\t\t\t  <div class="value"><span>'+this.data.habitable+"</span></div>\n\t\t\t</div>\n\n\t\t")}return o(e,[{key:"render",value:function(){return this.templates[this.template]}}]),e}();e["default"]=l}),require.register("src/js/views/tooltip.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=t("../app/view"),u=i(l),c=t("./template"),f=i(c),d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.template=e.template?e.template:"default",n.$template=$('<div id="tooltip"></div>'),n.render(),n}return r(t,e),s(t,[{key:"render",value:function(){this.template&&console.log(this.template),$("body").append(this.$template)}},{key:"setData",value:function(e){var t=new f["default"]({template:"tooltipStarTemplate",data:e});this.$template.html(t.render())}},{key:"updatePosition",value:function(e){this.$template.css({left:e.x+18,top:e.y})}},{key:"remove",value:function(){this.$template.remove()}},{key:"show",value:function(){this.$template.show()}},{key:"hide",value:function(){this.$template.hide()}}]),t}(u["default"]);e["default"]=d}),require.alias("process/browser.js","process"),t=require("process"),require.register("___globals___",function(e,t,n){})}(),require("___globals___");